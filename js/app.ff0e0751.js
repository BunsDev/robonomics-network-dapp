(function(e){function t(t){for(var c,a,i=t[0],u=t[1],s=t[2],b=0,d=[];b<i.length;b++)a=i[b],Object.prototype.hasOwnProperty.call(r,a)&&r[a]&&d.push(r[a][0]),r[a]=0;for(c in u)Object.prototype.hasOwnProperty.call(u,c)&&(e[c]=u[c]);l&&l(t);while(d.length)d.shift()();return o.push.apply(o,s||[]),n()}function n(){for(var e,t=0;t<o.length;t++){for(var n=o[t],c=!0,i=1;i<n.length;i++){var u=n[i];0!==r[u]&&(c=!1)}c&&(o.splice(t--,1),e=a(a.s=n[0]))}return e}var c={},r={app:0},o=[];function a(t){if(c[t])return c[t].exports;var n=c[t]={i:t,l:!1,exports:{}};return e[t].call(n.exports,n,n.exports,a),n.l=!0,n.exports}a.m=e,a.c=c,a.d=function(e,t,n){a.o(e,t)||Object.defineProperty(e,t,{enumerable:!0,get:n})},a.r=function(e){"undefined"!==typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(e,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(e,"__esModule",{value:!0})},a.t=function(e,t){if(1&t&&(e=a(e)),8&t)return e;if(4&t&&"object"===typeof e&&e&&e.__esModule)return e;var n=Object.create(null);if(a.r(n),Object.defineProperty(n,"default",{enumerable:!0,value:e}),2&t&&"string"!=typeof e)for(var c in e)a.d(n,c,function(t){return e[t]}.bind(null,c));return n},a.n=function(e){var t=e&&e.__esModule?function(){return e["default"]}:function(){return e};return a.d(t,"a",t),t},a.o=function(e,t){return Object.prototype.hasOwnProperty.call(e,t)},a.p="";var i=window["webpackJsonp"]=window["webpackJsonp"]||[],u=i.push.bind(i);i.push=t,i=i.slice();for(var s=0;s<i.length;s++)t(i[s]);var l=u;o.push([3,"chunk-vendors"]),n()})({0:function(e,t){},1:function(e,t){},10:function(e,t){},11:function(e,t){},12:function(e,t){},13:function(e,t){},14:function(e,t){},15:function(e,t){},16:function(e,t){},17:function(e,t){},2:function(e,t){},"25d4":function(e,t,n){},"2f5b":function(e,t,n){},3:function(e,t,n){e.exports=n("56d7")},"359e":function(e,t,n){"use strict";n("25d4")},4:function(e,t){},"4ed3":function(e,t,n){"use strict";n("2f5b")},5:function(e,t){},"56d7":function(e,t,n){"use strict";n.r(t);n("e260"),n("e6cf"),n("cca6"),n("a79d");var c=n("7a23");function r(e,t,n,r,o,a){var i=Object(c["resolveComponent"])("router-view"),u=Object(c["resolveComponent"])("layout-main"),s=Object(c["resolveComponent"])("robo-logo"),l=Object(c["resolveComponent"])("robo-grid-item"),b=Object(c["resolveComponent"])("robo-grid"),d=Object(c["resolveComponent"])("robo-layout"),O=Object(c["resolveComponent"])("modals-container");return Object(c["openBlock"])(),Object(c["createElementBlock"])(c["Fragment"],null,[o.isReady?(Object(c["openBlock"])(),Object(c["createBlock"])(u,{key:0},{default:Object(c["withCtx"])((function(){return[Object(c["createVNode"])(i)]})),_:1})):(Object(c["openBlock"])(),Object(c["createBlock"])(d,{key:1},{default:Object(c["withCtx"])((function(){return[Object(c["createVNode"])(b,{screen:""},{default:Object(c["withCtx"])((function(){return[Object(c["createVNode"])(l,{valign:"center",align:"center"},{default:Object(c["withCtx"])((function(){return[Object(c["createVNode"])(s,{title:"",animate:""})]})),_:1})]})),_:1})]})),_:1})),Object(c["createVNode"])(O)],64)}var o=n("c7eb"),a=n("1da1"),i=(n("9911"),Object(c["createTextVNode"])("View changelog"));function u(e,t,n,r,o,a){var u=Object(c["resolveComponent"])("layout-header"),s=Object(c["resolveComponent"])("layout-sidebar-left"),l=Object(c["resolveComponent"])("layout-sidebar-right"),b=Object(c["resolveComponent"])("robo-grid"),d=Object(c["resolveComponent"])("robo-layout-section"),O=Object(c["resolveComponent"])("robo-link"),j=Object(c["resolveComponent"])("robo-text"),p=Object(c["resolveComponent"])("robo-layout-footer"),f=Object(c["resolveComponent"])("robo-layout");return Object(c["openBlock"])(),Object(c["createBlock"])(f,{screen:"",footer:""},{default:Object(c["withCtx"])((function(){return[Object(c["createVNode"])(u,{items:o.breadcrumbs},null,8,["items"]),Object(c["createVNode"])(d,null,{default:Object(c["withCtx"])((function(){return[Object(c["createVNode"])(b,{"columns-template":"left-center-right"},{default:Object(c["withCtx"])((function(){return[Object(c["createVNode"])(s),Object(c["renderSlot"])(e.$slots,"default"),Object(c["createVNode"])(l)]})),_:3})]})),_:3}),Object(c["createVNode"])(p,null,{default:Object(c["withCtx"])((function(){return[Object(c["createVNode"])(d,null,{default:Object(c["withCtx"])((function(){return[Object(c["createVNode"])(j,{size:"small"},{default:Object(c["withCtx"])((function(){return[Object(c["createTextVNode"])(" Robonomics release "+Object(c["toDisplayString"])(o.version)+" ",1),Object(c["createVNode"])(O,{href:o.link},{default:Object(c["withCtx"])((function(){return[i]})),_:1},8,["href"])]})),_:1})]})),_:1})]})),_:1})]})),_:3})}n("a4d3"),n("e01a");var s=n("bc3a"),l=n.n(s);function b(e,t,n,r,o,a){var i=Object(c["resolveComponent"])("robo-logo"),u=Object(c["resolveComponent"])("robo-grid-item"),s=Object(c["resolveComponent"])("robo-breadcrumbs"),l=Object(c["resolveComponent"])("robo-grid"),b=Object(c["resolveComponent"])("robo-layout-section");return Object(c["openBlock"])(),Object(c["createBlock"])(b,{dark:""},{default:Object(c["withCtx"])((function(){return[Object(c["createVNode"])(l,{"columns-template":"left-center",valign:"center","media-mobile":"no-cols"},{default:Object(c["withCtx"])((function(){return[Object(c["createVNode"])(u,null,{default:Object(c["withCtx"])((function(){return[Object(c["createVNode"])(i,{router:e.isMainPage?null:{name:"dashboard"},title:"",light:"","media-mobile":"collapse"},null,8,["router"])]})),_:1}),Object(c["createVNode"])(u,null,{default:Object(c["withCtx"])((function(){return[Object(c["createVNode"])(s,{items:e.items},null,8,["items"])]})),_:1})]})),_:1})]})),_:1})}n("b0c0");var d=Object(c["defineComponent"])({name:"layoutHeader",props:{items:{type:Object}},computed:{isMainPage:function(){return"dashboard"===this.$route.name}}}),O=n("6b0d"),j=n.n(O);const p=j()(d,[["render",b]]);var f=p,m=Object(c["createTextVNode"])(" Dashboard "),h=Object(c["createTextVNode"])(" Old version "),v=Object(c["createTextVNode"])(" Services "),w=Object(c["createTextVNode"])(" Subscription "),x=Object(c["createTextVNode"])(" Uniswap "),g=Object(c["createTextVNode"])(" About XRT ");function C(e,t){var n=Object(c["resolveComponent"])("robo-sidebar-item"),r=Object(c["resolveComponent"])("robo-sidebar"),o=Object(c["resolveComponent"])("robo-grid-item");return Object(c["openBlock"])(),Object(c["createBlock"])(o,{"media-mobile":"collapse-left","collapse-text":"Navigation"},{default:Object(c["withCtx"])((function(){return[Object(c["createVNode"])(r,{title:"Dapp",icon:"house"},{default:Object(c["withCtx"])((function(){return[Object(c["createVNode"])(n,{router:{name:"dashboard"},current:""},{default:Object(c["withCtx"])((function(){return[m]})),_:1}),Object(c["createVNode"])(n,{href:"https://old.dapp.robonomics.network/"},{default:Object(c["withCtx"])((function(){return[h]})),_:1})]})),_:1}),Object(c["createVNode"])(r,{title:"IoT services",icon:"cloud"},{default:Object(c["withCtx"])((function(){return[Object(c["createVNode"])(n,{router:{name:"services"}},{default:Object(c["withCtx"])((function(){return[v]})),_:1}),Object(c["createVNode"])(n,{router:{name:"subscription-bid"}},{default:Object(c["withCtx"])((function(){return[w]})),_:1})]})),_:1}),Object(c["createVNode"])(r,{title:"Tokenomics",icon:"chart-pie"},{default:Object(c["withCtx"])((function(){return[Object(c["createVNode"])(n,{href:"https://app.uniswap.org/#/swap?inputCurrency=0x7de91b204c1c737bcee6f000aaa6569cf7061cb7&outputCurrency=0xc02aaa39b223fe8d0a0e5c4f27ead9083c756cc2"},{default:Object(c["withCtx"])((function(){return[x]})),_:1}),Object(c["createVNode"])(n,{href:"https://robonomics.network/xrt/"},{default:Object(c["withCtx"])((function(){return[g]})),_:1})]})),_:1})]})),_:1})}const N={},V=j()(N,[["render",C]]);var k=V,y=Object(c["createTextVNode"])("Support"),_=Object(c["createTextVNode"])("GitHub"),B=Object(c["createTextVNode"])("Robonomics Wiki"),T=Object(c["createTextVNode"])("Discord Chat");function S(e,t,n,r,o,a){var i=Object(c["resolveComponent"])("Account"),u=Object(c["resolveComponent"])("Ipfs"),s=Object(c["resolveComponent"])("robo-icon"),l=Object(c["resolveComponent"])("robo-card-label-section"),b=Object(c["resolveComponent"])("robo-card-label"),d=Object(c["resolveComponent"])("robo-link"),O=Object(c["resolveComponent"])("robo-grid"),j=Object(c["resolveComponent"])("robo-text"),p=Object(c["resolveComponent"])("robo-card-section"),f=Object(c["resolveComponent"])("robo-card"),m=Object(c["resolveComponent"])("robo-grid-item");return Object(c["openBlock"])(),Object(c["createBlock"])(m,{"media-mobile":"collapse-right","collapse-icon":"user","collapse-text":"Account"},{default:Object(c["withCtx"])((function(){return[Object(c["createVNode"])(O,{offset:"x0"},{default:Object(c["withCtx"])((function(){return[Object(c["createVNode"])(i),Object(c["createVNode"])(u),Object(c["createVNode"])(f,{outlined:""},{default:Object(c["withCtx"])((function(){return[Object(c["createVNode"])(b,null,{default:Object(c["withCtx"])((function(){return[Object(c["createVNode"])(l,null,{default:Object(c["withCtx"])((function(){return[Object(c["createVNode"])(s,{icon:"comment"})]})),_:1}),Object(c["createVNode"])(l,null,{default:Object(c["withCtx"])((function(){return[y]})),_:1})]})),_:1}),Object(c["createVNode"])(p,null,{default:Object(c["withCtx"])((function(){return[Object(c["createVNode"])(j,{size:"small",weight:"bold"},{default:Object(c["withCtx"])((function(){return[Object(c["createVNode"])(O,{embed:"",gap:"x05"},{default:Object(c["withCtx"])((function(){return[Object(c["createVNode"])(d,{href:"https://github.com/airalab/dapp.robonomics.network/issues"},{default:Object(c["withCtx"])((function(){return[_]})),_:1}),Object(c["createVNode"])(d,{href:"https://wiki.robonomics.network/"},{default:Object(c["withCtx"])((function(){return[B]})),_:1}),Object(c["createVNode"])(d,{href:"https://discord.com/invite/5UWNGNaAUf"},{default:Object(c["withCtx"])((function(){return[T]})),_:1})]})),_:1})]})),_:1})]})),_:1})]})),_:1})]})),_:1})]})),_:1})}var A=Object(c["createTextVNode"])("Your accounts"),D=Object(c["createTextVNode"])("Balance:"),E=Object(c["createTextVNode"])("Polkadot ecosystem:"),I=Object(c["createTextVNode"])("Chain format:");function P(e,t,n,r,o,a){var i=Object(c["resolveComponent"])("robo-icon"),u=Object(c["resolveComponent"])("robo-card-label-section"),s=Object(c["resolveComponent"])("robo-card-label"),l=Object(c["resolveComponent"])("robo-text"),b=Object(c["resolveComponent"])("robo-balance"),d=Object(c["resolveComponent"])("robo-section"),O=Object(c["resolveComponent"])("robo-card-section"),j=Object(c["resolveComponent"])("robo-account-polkadot"),p=Object(c["resolveComponent"])("robo-account-polkadot-chain"),f=Object(c["resolveComponent"])("robo-card");return Object(c["openBlock"])(),Object(c["createBlock"])(f,{outlined:""},{default:Object(c["withCtx"])((function(){return[Object(c["createVNode"])(s,null,{default:Object(c["withCtx"])((function(){return[Object(c["createVNode"])(u,null,{default:Object(c["withCtx"])((function(){return[Object(c["createVNode"])(i,{icon:"user"})]})),_:1}),Object(c["createVNode"])(u,null,{default:Object(c["withCtx"])((function(){return[A]})),_:1})]})),_:1}),Object(c["createVNode"])(O,null,{default:Object(c["withCtx"])((function(){return[Object(c["createVNode"])(d,null,{default:Object(c["withCtx"])((function(){return[Object(c["createVNode"])(l,{size:"tiny"},{default:Object(c["withCtx"])((function(){return[D]})),_:1}),Object(c["createVNode"])(b,{balance:[{account:"polkadot",quantity:a.balanceFormat}],currency:o.unit},null,8,["balance","currency"])]})),_:1})]})),_:1}),Object(c["createVNode"])(O,null,{default:Object(c["withCtx"])((function(){return[Object(c["createVNode"])(d,null,{default:Object(c["withCtx"])((function(){return[Object(c["createVNode"])(l,{size:"tiny"},{default:Object(c["withCtx"])((function(){return[E]})),_:1}),Object(c["createVNode"])(l,{size:"small",weight:"bold",gap:""},{default:Object(c["withCtx"])((function(){return[Object(c["createVNode"])(j,{short:"",extensionAllowShift:"",extensionShowIcon:"",selectable:"",onAfterInjected:a.handlerAddress,onOnAddressChange:a.handlerAddress},null,8,["onAfterInjected","onOnAddressChange"])]})),_:1}),e.$store.state.robonomicsUIvue.polkadot.address?(Object(c["openBlock"])(),Object(c["createElementBlock"])(c["Fragment"],{key:0},[Object(c["createVNode"])(l,{size:"tiny"},{default:Object(c["withCtx"])((function(){return[I]})),_:1}),Object(c["createVNode"])(l,{size:"small",weight:"bold"},{default:Object(c["withCtx"])((function(){return[Object(c["createVNode"])(p)]})),_:1})],64)):Object(c["createCommentVNode"])("",!0)]})),_:1})]})),_:1})]})),_:1})}n("a9e3"),n("7db0"),n("d3b7"),n("4c53");var R=n("36ea"),U=n("0b67"),z=n("d4ec"),M=n("bee2"),L=n("45eb"),F=n("7e84"),H=n("262e"),$=n("2caf"),W=n("26af"),J=function(e){Object(H["a"])(n,e);var t=Object($["a"])(n);function n(e){var c,r=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},o=arguments.length>2&&void 0!==arguments[2]?arguments[2]:null;return Object(z["a"])(this,n),c=t.call(this,e,o),c.extension=null,e.loadAll(r),R["a"].setReady(!0),c}return Object(M["a"])(n,[{key:"setAccount",value:function(){var e=Object(a["a"])(Object(o["a"])().mark((function e(t,n){return Object(o["a"])().wrap((function(e){while(1)switch(e.prev=e.next){case 0:this.extension=n;try{this.keyring.getPair(t.address)}catch(c){this.keyring.loadInjected(t.address,{},t.type)}return e.next=4,this.selectAccountByAddress(t.address);case 4:case"end":return e.stop()}}),e,this)})));function t(t,n){return e.apply(this,arguments)}return t}()},{key:"mixin",value:function(){var e=Object(a["a"])(Object(o["a"])().mark((function e(){return Object(o["a"])().wrap((function(e){while(1)switch(e.prev=e.next){case 0:if(!this.account.meta.isInjected||!this.extension){e.next=5;break}this.api.setSigner(this.extension.signer),this.account.signMsg=function(){var e=Object(a["a"])(Object(o["a"])().mark((function e(t){return Object(o["a"])().wrap((function(e){while(1)switch(e.prev=e.next){case 0:return e.next=2,this.extension.signer.signRaw({address:this.account.address,data:Object(W["a"])(t),type:"bytes"});case 2:return e.abrupt("return",e.sent.signature);case 3:case"end":return e.stop()}}),e,this)})));return function(t){return e.apply(this,arguments)}}(),e.next=7;break;case 5:return e.next=7,Object(L["a"])(Object(F["a"])(n.prototype),"mixin",this).call(this);case 7:case"end":return e.stop()}}),e,this)})));function t(){return e.apply(this,arguments)}return t}()}]),n}(R["a"]),K={endpoint:"wss://kusama.rpc.robonomics.network/"};console.log(K);var Y=new R["b"](K);Y.setAccountManager(new J(U["a"],{isDevelopment:!1}));var q=Y,G=(n("fb6a"),n("25f0"),n("85a5")),Q=n.n(G);function X(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:0;return new Q.a(e.toString()).div(new Q.a(10).pow(t.toString())).toString()}function Z(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:0;return new Q.a(e.toString()).mul(new Q.a(10).pow(t.toString())).toString()}Q.a.set({toExpNeg:-31,toExpPos:31});var ee={data:function(){return{unsubscribeBalance:null,balance:"0",unit:"XRT"}},created:function(){this.unit=q.api.registry.chainTokens[0]},computed:{balanceFormat:function(){return Number(X(this.balance,q.api.registry.chainDecimals[0]))}},methods:{handlerAddress:function(){var e=this;return Object(a["a"])(Object(o["a"])().mark((function t(){var n;return Object(o["a"])().wrap((function(t){while(1)switch(t.prev=t.next){case 0:return e.unsubscribeBalance&&e.unsubscribeBalance(),n=e.$store.state.robonomicsUIvue.polkadot.accounts.find((function(t){return t.address===e.$store.state.robonomicsUIvue.polkadot.address})),t.next=4,q.accountManager.setAccount(n,e.$store.state.robonomicsUIvue.polkadot.extensionObj);case 4:return t.next=6,q.account.getBalance(n.address,(function(t){e.balance=t.free.sub(t.feeFrozen)}));case 6:e.unsubscribeBalance=t.sent;case 7:case"end":return t.stop()}}),t)})))()}}};const te=j()(ee,[["render",P]]);var ne=te,ce=Object(c["createTextVNode"])("Status");function re(e,t,n,r,o,a){var i=Object(c["resolveComponent"])("robo-icon"),u=Object(c["resolveComponent"])("robo-card-label-section"),s=Object(c["resolveComponent"])("robo-card-label"),l=Object(c["resolveComponent"])("robo-status"),b=Object(c["resolveComponent"])("robo-text"),d=Object(c["resolveComponent"])("robo-card-section"),O=Object(c["resolveComponent"])("robo-card");return Object(c["openBlock"])(),Object(c["createBlock"])(O,{outlined:""},{default:Object(c["withCtx"])((function(){return[Object(c["createVNode"])(s,null,{default:Object(c["withCtx"])((function(){return[Object(c["createVNode"])(u,null,{default:Object(c["withCtx"])((function(){return[Object(c["createVNode"])(i,{icon:"signal"})]})),_:1}),Object(c["createVNode"])(u,null,{default:Object(c["withCtx"])((function(){return[ce]})),_:1})]})),_:1}),Object(c["createVNode"])(d,null,{default:Object(c["withCtx"])((function(){return[Object(c["createVNode"])(b,{size:"small",weight:"bold"},{default:Object(c["withCtx"])((function(){return[o.status?(Object(c["openBlock"])(),Object(c["createBlock"])(l,{key:0,type:"success",textRight:"IPFS connected"})):(Object(c["openBlock"])(),Object(c["createBlock"])(l,{key:1,type:"error",textRight:"IPFS disconnected"}))]})),_:1})]})),_:1})]})),_:1})}var oe={data:function(){return{status:!1,isOnline:!1}},mounted:function(){this.getIpfsNodeInfo()},methods:{getIpfsNodeInfo:function(){var e=this;return Object(a["a"])(Object(o["a"])().mark((function t(){var n;return Object(o["a"])().wrap((function(t){while(1)switch(t.prev=t.next){case 0:return t.prev=0,t.next=3,e.$ipfs;case 3:n=t.sent,e.status=!0,e.isOnline=n.isOnline(),t.next=12;break;case 8:t.prev=8,t.t0=t["catch"](0),console.log(t.t0),e.status=!1;case 12:case"end":return t.stop()}}),t,null,[[0,8]])})))()}}};const ae=j()(oe,[["render",re]]);var ie=ae,ue={components:{Account:ne,Ipfs:ie}};const se=j()(ue,[["render",S]]);var le=se,be={components:{layoutHeader:f,layoutSidebarLeft:k,layoutSidebarRight:le},data:function(){return{version:"",link:"https://github.com/airalab/robonomics",breadcrumbs:[]}},watch:{$route:function(e){this.breadcrumbs=e.meta.breadcrumbs,document.title="Dapp Robonomics network | ".concat(e.meta.title),document.querySelector('meta[name="description"]').setAttribute("content",e.meta.description)}},created:function(){var e=this;return Object(a["a"])(Object(o["a"])().mark((function t(){var n;return Object(o["a"])().wrap((function(t){while(1)switch(t.prev=t.next){case 0:return e.breadcrumbs=e.$route.meta.breadcrumbs,document.title="Dapp Robonomics network | ".concat(e.$route.meta.title),document.querySelector('meta[name="description"]').setAttribute("content",e.$route.meta.description),t.prev=3,t.next=6,l.a.get("https://api.github.com/repos/airalab/robonomics/releases/latest");case 6:n=t.sent,e.version=n.data.tag_name,e.link=n.data.html_url,t.next=14;break;case 11:t.prev=11,t.t0=t["catch"](3),console.log(t.t0);case 14:case"end":return t.stop()}}),t,null,[[3,11]])})))()}};const de=j()(be,[["render",u]]);var Oe=de,je={components:{LayoutMain:Oe},data:function(){return{isReady:!1}},created:function(){var e=this;return Object(a["a"])(Object(o["a"])().mark((function t(){return Object(o["a"])().wrap((function(t){while(1)switch(t.prev=t.next){case 0:return document.documentElement.setAttribute("lang","en"),t.next=3,q.run();case 3:e.isReady=!0;case 4:case"end":return t.stop()}}),t)})))()}};const pe=j()(je,[["render",r]]);var fe=pe,me=n("6c02");function he(e,t,n,r,o,a){var i=Object(c["resolveComponent"])("Info"),u=Object(c["resolveComponent"])("InfoNew"),s=Object(c["resolveComponent"])("robo-grid-item");return Object(c["openBlock"])(),Object(c["createBlock"])(s,null,{default:Object(c["withCtx"])((function(){return[r.subscription.isActive.value?(Object(c["openBlock"])(),Object(c["createBlock"])(i,{key:0,date:r.subscription.validUntilFormat},null,8,["date"])):(Object(c["openBlock"])(),Object(c["createBlock"])(u,{key:1}))]})),_:1})}var ve=function(){var e=Object(c["ref"])(null);q.accountManager.account&&(e.value=q.accountManager.account.address);var t=q.accountManager.onChange((function(t){e.value=t.address}));return{account:e,unsubscribe:t}},we=function(e){var t=Object(c["ref"])(null),n=Object(c["computed"])((function(){if(null===t.value)return"";var e=t.value.issueTime.toNumber(),n=0;return t.value.kind.isDaily&&(n=t.value.kind.value.days.toNumber()),e+864e5*n})),r=Object(c["computed"])((function(){return null===t.value?"-":new Date(n.value).toLocaleDateString()})),i=Object(c["computed"])((function(){if(null===t.value)return 0;var e=0;return t.value.kind.isDaily&&(e=t.value.kind.value.days.toNumber()),e/30})),u=Object(c["computed"])((function(){return!(null===t.value||Date.now()>n.value)})),s=function(){var e=Object(a["a"])(Object(o["a"])().mark((function e(n){var c;return Object(o["a"])().wrap((function(e){while(1)switch(e.prev=e.next){case 0:return e.next=2,q.rws.getLedger(n);case 2:if(c=e.sent,c.isEmpty){e.next=6;break}return t.value=c.value,e.abrupt("return");case 6:t.value=null;case 7:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}();return Object(c["watchEffect"])(Object(a["a"])(Object(o["a"])().mark((function t(){return Object(o["a"])().wrap((function(t){while(1)switch(t.prev=t.next){case 0:return t.next=2,s(e.value);case 2:case"end":return t.stop()}}),t)})))),{subscription:t,isActive:u,countMonth:i,validUntil:n,validUntilFormat:r,loadLedger:s}},xe=Object(c["createTextVNode"])("Your subscription"),ge=Object(c["createTextVNode"])("Use Decentralized IoT"),Ce=Object(c["createElementVNode"])("small",null,"Price from",-1),Ne=Object(c["createElementVNode"])("small",null,"Activation time ~",-1),Ve=Object(c["createElementVNode"])("h3",null,"2 min",-1),ke=Object(c["createElementVNode"])("small",null,"Available",-1),ye=Object(c["createTextVNode"])(" Activate subscription ");function _e(e,t,n,r,o,a){var i=Object(c["resolveComponent"])("robo-card-label-section"),u=Object(c["resolveComponent"])("robo-card-label"),s=Object(c["resolveComponent"])("robo-card-title"),l=Object(c["resolveComponent"])("robo-list-item"),b=Object(c["resolveComponent"])("robo-list"),d=Object(c["resolveComponent"])("robo-button"),O=Object(c["resolveComponent"])("robo-card-section"),j=Object(c["resolveComponent"])("robo-card");return Object(c["openBlock"])(),Object(c["createBlock"])(j,{backColor:"lightblue",backImage:"images/card-back-sample.png",backPosition:"100% 100%",backSize:"contain"},{default:Object(c["withCtx"])((function(){return[Object(c["createVNode"])(u,null,{default:Object(c["withCtx"])((function(){return[Object(c["createVNode"])(i,null,{default:Object(c["withCtx"])((function(){return[xe]})),_:1}),Object(c["createVNode"])(i,{info:""},{default:Object(c["withCtx"])((function(){return[Object(c["createTextVNode"])(Object(c["toDisplayString"])(e.$apptextSubscriptionInfo),1)]})),_:1})]})),_:1}),Object(c["createVNode"])(O,{maxWidth:"80%"},{default:Object(c["withCtx"])((function(){return[Object(c["createVNode"])(s,null,{default:Object(c["withCtx"])((function(){return[ge]})),_:1}),Object(c["createVNode"])(b,{fullLine:""},{default:Object(c["withCtx"])((function(){return[Object(c["createVNode"])(l,null,{default:Object(c["withCtx"])((function(){return[Ce,Object(c["createElementVNode"])("h3",null,Object(c["toDisplayString"])(o.price)+" XRT",1)]})),_:1}),Object(c["createVNode"])(l,null,{default:Object(c["withCtx"])((function(){return[Ne,Ve]})),_:1}),Object(c["createVNode"])(l,null,{default:Object(c["withCtx"])((function(){return[ke,Object(c["createElementVNode"])("h3",null,Object(c["toDisplayString"])(o.freeAuctions)+" subscriptions",1)]})),_:1})]})),_:1}),Object(c["createVNode"])(d,{disabled:!a.canBid,router:{name:"subscription-bid"},"icon-left":"rss"},{default:Object(c["withCtx"])((function(){return[ye]})),_:1},8,["disabled"])]})),_:1})]})),_:1})}var Be=n("b1ce"),Te={data:function(){return{price:0,freeAuctions:0,unsubscribeBlock:null}},computed:{canBid:function(){return this.freeAuctions>0}},created:function(){var e=this;return Object(a["a"])(Object(o["a"])().mark((function t(){var n,c;return Object(o["a"])().wrap((function(t){while(1)switch(t.prev=t.next){case 0:return t.next=2,q.rws.getMinimalBid();case 2:return n=t.sent,e.price=X(n.add(Object(Be["a"])(1)),q.api.registry.chainDecimals),t.next=6,q.rws.getFreeAuctions();case 6:return c=t.sent,e.freeAuctions=c.length,t.next=10,q.onBlock(Object(a["a"])(Object(o["a"])().mark((function t(){var n;return Object(o["a"])().wrap((function(t){while(1)switch(t.prev=t.next){case 0:return t.next=2,q.rws.getFreeAuctions();case 2:n=t.sent,e.freeAuctions=n.length;case 4:case"end":return t.stop()}}),t)}))));case 10:e.unsubscribeBlock=t.sent;case 11:case"end":return t.stop()}}),t)})))()},unmounted:function(){this.unsubscribeBlock&&this.unsubscribeBlock()}};const Se=j()(Te,[["render",_e]]);var Ae=Se,De=Object(c["createTextVNode"])("Your subscription"),Ee=Object(c["createTextVNode"])(" Owner: "),Ie=Object(c["createTextVNode"])(" Manage subscription ");function Pe(e,t,n,r,o,a){var i=Object(c["resolveComponent"])("robo-card-label-section"),u=Object(c["resolveComponent"])("robo-card-label"),s=Object(c["resolveComponent"])("robo-status"),l=Object(c["resolveComponent"])("robo-card-title"),b=Object(c["resolveComponent"])("robo-text"),d=Object(c["resolveComponent"])("robo-list-item"),O=Object(c["resolveComponent"])("robo-account-polkadot"),j=Object(c["resolveComponent"])("robo-list"),p=Object(c["resolveComponent"])("robo-button"),f=Object(c["resolveComponent"])("robo-card-section"),m=Object(c["resolveComponent"])("robo-card");return Object(c["openBlock"])(),Object(c["createBlock"])(m,{"back-image":"images/card-back-sample.png","back-position":"100% 100%","back-size":"contain"},{default:Object(c["withCtx"])((function(){return[Object(c["createVNode"])(u,null,{default:Object(c["withCtx"])((function(){return[Object(c["createVNode"])(i,null,{default:Object(c["withCtx"])((function(){return[De]})),_:1}),Object(c["createVNode"])(i,{info:""},{default:Object(c["withCtx"])((function(){return[Object(c["createTextVNode"])(Object(c["toDisplayString"])(e.$apptextSubscriptionInfo),1)]})),_:1})]})),_:1}),Object(c["createVNode"])(f,null,{default:Object(c["withCtx"])((function(){return[Object(c["createVNode"])(l,null,{default:Object(c["withCtx"])((function(){return[Object(c["createVNode"])(s,{type:"success",textRight:"1 month"})]})),_:1}),Object(c["createVNode"])(j,null,{default:Object(c["withCtx"])((function(){return[Object(c["createVNode"])(d,null,{default:Object(c["withCtx"])((function(){return[Object(c["createVNode"])(b,{weight:"bold"},{default:Object(c["withCtx"])((function(){return[Object(c["createTextVNode"])("Active till: "+Object(c["toDisplayString"])(n.date),1)]})),_:1})]})),_:1}),Object(c["createVNode"])(d,null,{default:Object(c["withCtx"])((function(){return[Object(c["createVNode"])(b,{weight:"bold"},{default:Object(c["withCtx"])((function(){return[Ee,Object(c["createVNode"])(O,{short:"",inline:""})]})),_:1})]})),_:1})]})),_:1}),Object(c["createVNode"])(p,{router:{name:"subscription-devices"},"icon-left":"rss"},{default:Object(c["withCtx"])((function(){return[Ie]})),_:1})]})),_:1})]})),_:1})}var Re={props:["date"]};const Ue=j()(Re,[["render",Pe]]);var ze=Ue,Me={components:{InfoNew:Ae,Info:ze},setup:function(){var e=ve(),t=e.account,n=e.unsubscribe;Object(c["onUnmounted"])((function(){n(),r&&r()}));var r,i=we(t),u=function(){var e=Object(a["a"])(Object(o["a"])().mark((function e(){return Object(o["a"])().wrap((function(e){while(1)switch(e.prev=e.next){case 0:return e.next=2,q.onBlock(Object(a["a"])(Object(o["a"])().mark((function e(){return Object(o["a"])().wrap((function(e){while(1)switch(e.prev=e.next){case 0:i.loadLedger(t.value);case 1:case"end":return e.stop()}}),e)}))));case 2:r=e.sent;case 3:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}();return u(),{account:t,subscription:i}}};const Le=j()(Me,[["render",he]]);var Fe=Le,He=Object(c["createTextVNode"])("New subscription"),$e=Object(c["createTextVNode"])("Choose plan:"),We=Object(c["createTextVNode"])("Check owner account:"),Je=Object(c["createTextVNode"])(" [Polkadot ecosystem] "),Ke=Object(c["createTextVNode"])("Price and terms:"),Ye=Object(c["createTextVNode"])(" Price from "),qe=Object(c["createTextVNode"])(" Activation time ~ "),Ge=Object(c["createTextVNode"])("2 min"),Qe=Object(c["createTextVNode"])(" Available subscriptions "),Xe=Object(c["createTextVNode"])(" By activating the subscription, the address of any of your devices will have the right to send priority transactions within the Robonomics parachain, which guarantees the ability to send transactions stably every block. "),Ze=Object(c["createTextVNode"])(" During the entire period of an active subscription, the device has guaranteed block inclusion to send one transaction per block for free. "),et=Object(c["createTextVNode"])(" Please wait for activation "),tt=Object(c["createTextVNode"])("Submitting"),nt=Object(c["createTextVNode"])("Submitted"),ct=Object(c["createTextVNode"])("Submit");function rt(e,t,n,r,o,a){var i=Object(c["resolveComponent"])("robo-card-label-section"),u=Object(c["resolveComponent"])("robo-card-label"),s=Object(c["resolveComponent"])("robo-text"),l=Object(c["resolveComponent"])("robo-select"),b=Object(c["resolveComponent"])("robo-list-item"),d=Object(c["resolveComponent"])("robo-account-polkadot"),O=Object(c["resolveComponent"])("robo-grid-item"),j=Object(c["resolveComponent"])("robo-grid"),p=Object(c["resolveComponent"])("robo-section"),f=Object(c["resolveComponent"])("robo-loader"),m=Object(c["resolveComponent"])("robo-list"),h=Object(c["resolveComponent"])("robo-button"),v=Object(c["resolveComponent"])("robo-card-section"),w=Object(c["resolveComponent"])("robo-card");return Object(c["openBlock"])(),Object(c["createBlock"])(O,null,{default:Object(c["withCtx"])((function(){return[Object(c["createVNode"])(w,null,{default:Object(c["withCtx"])((function(){return[Object(c["createVNode"])(u,null,{default:Object(c["withCtx"])((function(){return[Object(c["createVNode"])(i,null,{default:Object(c["withCtx"])((function(){return[He]})),_:1}),Object(c["createVNode"])(i,{info:""},{default:Object(c["withCtx"])((function(){return[Object(c["createTextVNode"])(Object(c["toDisplayString"])(e.$apptextSubscriptionInfo),1)]})),_:1})]})),_:1}),Object(c["createVNode"])(v,null,{default:Object(c["withCtx"])((function(){return[Object(c["createVNode"])(m,null,{default:Object(c["withCtx"])((function(){return[Object(c["createVNode"])(b,null,{default:Object(c["withCtx"])((function(){return[Object(c["createVNode"])(s,{size:"small"},{default:Object(c["withCtx"])((function(){return[$e]})),_:1}),Object(c["createVNode"])(s,{size:"medium",highlight:"link"},{default:Object(c["withCtx"])((function(){return[Object(c["createVNode"])(l,{options:["1 month"],modelValue:o.plan,"onUpdate:modelValue":t[0]||(t[0]=function(e){return o.plan=e}),clean:""},null,8,["modelValue"])]})),_:1})]})),_:1}),Object(c["createVNode"])(b,null,{default:Object(c["withCtx"])((function(){return[Object(c["createVNode"])(s,{size:"small"},{default:Object(c["withCtx"])((function(){return[We]})),_:1}),Object(c["createVNode"])(s,{weight:"light",size:"tiny"},{default:Object(c["withCtx"])((function(){return[Je]})),_:1}),Object(c["createVNode"])(s,{gap:"",size:"medium",highlight:"link"},{default:Object(c["withCtx"])((function(){return[Object(c["createVNode"])(d,{short:""})]})),_:1})]})),_:1}),Object(c["createVNode"])(b,null,{default:Object(c["withCtx"])((function(){return[Object(c["createVNode"])(p,null,{default:Object(c["withCtx"])((function(){return[Object(c["createVNode"])(s,{size:"small",gap:""},{default:Object(c["withCtx"])((function(){return[Ke]})),_:1}),Object(c["createVNode"])(j,{columnsRepeat:"3",align:"fit-content",embed:""},{default:Object(c["withCtx"])((function(){return[Object(c["createVNode"])(O,null,{default:Object(c["withCtx"])((function(){return[Object(c["createVNode"])(s,{weight:"light",size:"small"},{default:Object(c["withCtx"])((function(){return[Ye]})),_:1}),Object(c["createVNode"])(s,{weight:"bold",size:"medium"},{default:Object(c["withCtx"])((function(){return[Object(c["createTextVNode"])(Object(c["toDisplayString"])(o.price)+" XRT ",1)]})),_:1})]})),_:1}),Object(c["createVNode"])(O,null,{default:Object(c["withCtx"])((function(){return[Object(c["createVNode"])(s,{weight:"light",size:"small"},{default:Object(c["withCtx"])((function(){return[qe]})),_:1}),Object(c["createVNode"])(s,{weight:"bold",size:"medium"},{default:Object(c["withCtx"])((function(){return[Ge]})),_:1})]})),_:1}),Object(c["createVNode"])(O,null,{default:Object(c["withCtx"])((function(){return[Object(c["createVNode"])(s,{weight:"light",size:"small"},{default:Object(c["withCtx"])((function(){return[Qe]})),_:1}),Object(c["createVNode"])(s,{weight:"bold",size:"medium"},{default:Object(c["withCtx"])((function(){return[Object(c["createTextVNode"])(Object(c["toDisplayString"])(o.freeAuctions),1)]})),_:1})]})),_:1})]})),_:1})]})),_:1}),Object(c["createVNode"])(p,null,{default:Object(c["withCtx"])((function(){return[Object(c["createVNode"])(s,{size:"small",gap:""},{default:Object(c["withCtx"])((function(){return[Xe]})),_:1}),Object(c["createVNode"])(s,{size:"small",gap:""},{default:Object(c["withCtx"])((function(){return[Ze]})),_:1})]})),_:1})]})),_:1}),o.process?(Object(c["openBlock"])(),Object(c["createBlock"])(b,{key:0},{default:Object(c["withCtx"])((function(){return[Object(c["createVNode"])(s,{weight:"bold",size:"medium"},{default:Object(c["withCtx"])((function(){return[et,Object(c["createVNode"])(f)]})),_:1})]})),_:1})):Object(c["createCommentVNode"])("",!0)]})),_:1}),Object(c["createVNode"])(h,{disabled:a.isDisabled||o.isLedger,onClick:a.bid,block:"",size:"big"},{default:Object(c["withCtx"])((function(){return[o.process?(Object(c["openBlock"])(),Object(c["createElementBlock"])(c["Fragment"],{key:0},[tt],64)):o.isLedger?(Object(c["openBlock"])(),Object(c["createElementBlock"])(c["Fragment"],{key:1},[nt],64)):(Object(c["openBlock"])(),Object(c["createElementBlock"])(c["Fragment"],{key:2},[ct],64))]})),_:1},8,["disabled","onClick"])]})),_:1})]})),_:1})]})),_:1})}var ot={setup:function(){var e=Object(c["ref"])(0),t=Object(c["ref"])(null),n=ve(),r=n.account,i=n.unsubscribe;Object(c["onUnmounted"])((function(){i(),t.value()})),Object(c["watch"])(r,Object(a["a"])(Object(o["a"])().mark((function n(){return Object(o["a"])().wrap((function(n){while(1)switch(n.prev=n.next){case 0:return t.value&&t.value(),n.next=3,q.account.getBalance(r.value,(function(t){e.value=t.free.sub(t.feeFrozen)}));case 3:t.value=n.sent;case 4:case"end":return n.stop()}}),n)}))),{immediate:!0});var u=we(r),s=Object(me["c"])();return Object(c["watch"])(u.subscription,(function(e,t){void 0!==t&&(null!==e||u.isActive.value)&&s.push({name:"subscription-devices"})}),{immediate:!0}),{account:r,subscription:u,balance:e}},data:function(){return{plan:"1 month",price:0,freeAuctions:0,isLedger:!1,unsubscribeBlock:null,process:!1,error:""}},computed:{canBid:function(){return this.freeAuctions>0},isDisabled:function(){return this.process||this.balance<=0||!this.canBid}},created:function(){var e=this;return Object(a["a"])(Object(o["a"])().mark((function t(){var n,c;return Object(o["a"])().wrap((function(t){while(1)switch(t.prev=t.next){case 0:return t.next=2,q.rws.getMinimalBid();case 2:return n=t.sent,e.price=X(n.add(Object(Be["a"])(1)),q.api.registry.chainDecimals),t.next=6,q.rws.getFreeAuctions();case 6:return c=t.sent,e.freeAuctions=c.length,t.next=10,q.onBlock(Object(a["a"])(Object(o["a"])().mark((function t(){var n;return Object(o["a"])().wrap((function(t){while(1)switch(t.prev=t.next){case 0:return t.next=2,q.rws.getFreeAuctions();case 2:n=t.sent,e.freeAuctions=n.length,e.subscription.loadLedger(e.account);case 5:case"end":return t.stop()}}),t)}))));case 10:e.unsubscribeBlock=t.sent;case 11:case"end":return t.stop()}}),t)})))()},unmounted:function(){this.unsubscribeBlock&&this.unsubscribeBlock()},methods:{bid:function(){var e=this;return Object(a["a"])(Object(o["a"])().mark((function t(){var n,c;return Object(o["a"])().wrap((function(t){while(1)switch(t.prev=t.next){case 0:return e.error="",e.process=!0,t.prev=2,t.t0=q.rws,t.t1=Number,t.next=7,q.rws.getFirtsFreeAuction();case 7:return t.t2=t.sent,t.t3=(0,t.t1)(t.t2),t.t4=Number(Z(e.price,q.api.registry.chainDecimals)),t.next=12,t.t0.bid.call(t.t0,t.t3,t.t4);case 12:return n=t.sent,t.next=15,q.accountManager.signAndSend(n);case 15:c=t.sent,console.log("saved block",c.block,c.tx),t.next=23;break;case 19:t.prev=19,t.t5=t["catch"](2),e.error=t.t5.message,e.process=!1;case 23:case"end":return t.stop()}}),t,null,[[2,19]])})))()}}};const at=j()(ot,[["render",rt]]);var it=at,ut=Object(c["createTextVNode"])(" Subscription summary "),st=Object(c["createTextVNode"])(" Owner: "),lt=Object(c["createTextVNode"])("Manage access"),bt=Object(c["createTextVNode"])(" Manage here addresses that can send transactions using your subscription (Users, IoT devices etc.) ");function dt(e,t,n,r,o,a){var i=Object(c["resolveComponent"])("robo-card-label-section"),u=Object(c["resolveComponent"])("robo-card-label"),s=Object(c["resolveComponent"])("robo-status"),l=Object(c["resolveComponent"])("robo-card-title"),b=Object(c["resolveComponent"])("robo-text"),d=Object(c["resolveComponent"])("robo-list-item"),O=Object(c["resolveComponent"])("robo-account-polkadot"),j=Object(c["resolveComponent"])("robo-list"),p=Object(c["resolveComponent"])("robo-card-section"),f=Object(c["resolveComponent"])("robo-card"),m=Object(c["resolveComponent"])("robo-section"),h=Object(c["resolveComponent"])("robo-template-subsription-item"),v=Object(c["resolveComponent"])("related-services"),w=Object(c["resolveComponent"])("robo-grid-item");return Object(c["openBlock"])(),Object(c["createBlock"])(w,null,{default:Object(c["withCtx"])((function(){return[Object(c["createVNode"])(m,null,{default:Object(c["withCtx"])((function(){return[Object(c["createVNode"])(f,{"back-image":"images/card-back-sample.png","back-position":"100% 100%","back-size":"contain"},{default:Object(c["withCtx"])((function(){return[Object(c["createVNode"])(u,null,{default:Object(c["withCtx"])((function(){return[Object(c["createVNode"])(i,null,{default:Object(c["withCtx"])((function(){return[ut]})),_:1}),Object(c["createVNode"])(i,{info:""},{default:Object(c["withCtx"])((function(){return[Object(c["createTextVNode"])(Object(c["toDisplayString"])(e.$apptextSubscriptionInfo),1)]})),_:1})]})),_:1}),Object(c["createVNode"])(p,null,{default:Object(c["withCtx"])((function(){return[Object(c["createVNode"])(l,null,{default:Object(c["withCtx"])((function(){return[Object(c["createVNode"])(s,{type:"success",textRight:"".concat(r.subscription.countMonth.value," month")},null,8,["textRight"])]})),_:1}),Object(c["createVNode"])(j,null,{default:Object(c["withCtx"])((function(){return[Object(c["createVNode"])(d,null,{default:Object(c["withCtx"])((function(){return[Object(c["createVNode"])(b,{weight:"bold"},{default:Object(c["withCtx"])((function(){return[Object(c["createTextVNode"])(" Active till: "+Object(c["toDisplayString"])(r.subscription.validUntilFormat),1)]})),_:1})]})),_:1}),Object(c["createVNode"])(d,null,{default:Object(c["withCtx"])((function(){return[Object(c["createVNode"])(b,{weight:"bold"},{default:Object(c["withCtx"])((function(){return[st,Object(c["createVNode"])(O,{short:"",inline:""})]})),_:1})]})),_:1})]})),_:1})]})),_:1})]})),_:1})]})),_:1}),Object(c["createVNode"])(m,null,{default:Object(c["withCtx"])((function(){return[Object(c["createVNode"])(f,null,{default:Object(c["withCtx"])((function(){return[Object(c["createVNode"])(u,null,{default:Object(c["withCtx"])((function(){return[Object(c["createVNode"])(i,null,{default:Object(c["withCtx"])((function(){return[lt]})),_:1})]})),_:1}),Object(c["createVNode"])(p,null,{default:Object(c["withCtx"])((function(){return[Object(c["createVNode"])(m,{offset:"x1"},{default:Object(c["withCtx"])((function(){return[Object(c["createVNode"])(b,null,{default:Object(c["withCtx"])((function(){return[bt]})),_:1})]})),_:1}),Object(c["createVNode"])(m,{offset:"x1"},{default:Object(c["withCtx"])((function(){return[(Object(c["openBlock"])(!0),Object(c["createElementBlock"])(c["Fragment"],null,Object(c["renderList"])(r.devices,(function(e,t){return Object(c["openBlock"])(),Object(c["createBlock"])(h,{key:t,address:e.address,"onUpdate:address":function(t){return e.address=t},name:e.name,"onUpdate:name":function(t){return e.name=t},status:"added",onOnDelete:function(t,n){return a.remove(e.address,t,n)},onOnEdit:a.editName,disabled:o.process,tipName:"The name will be saved only for this browser"},null,8,["address","onUpdate:address","name","onUpdate:name","onOnDelete","onOnEdit","disabled"])})),128)),(Object(c["openBlock"])(),Object(c["createBlock"])(h,{address:o.newDeviceAddress,"onUpdate:address":t[0]||(t[0]=function(e){return o.newDeviceAddress=e}),name:o.newDeviceName,"onUpdate:name":t[1]||(t[1]=function(e){return o.newDeviceName=e}),onOnAdd:a.add,disabled:o.process,key:o.itemKey,tipName:"The name will be saved only for this browser"},null,8,["address","name","onOnAdd","disabled"]))]})),_:1})]})),_:1})]})),_:1})]})),_:1}),Object(c["createVNode"])(v)]})),_:1})}var Ot=n("2909"),jt=(n("c740"),n("d81d"),n("4de4"),n("e9c4"),n("b64b"),function(){function e(t){Object(z["a"])(this,e),this.name=t,this.events={}}return Object(M["a"])(e,[{key:"getItems",value:function(){var e=localStorage.getItem(this.name);return e?JSON.parse(e):{}}},{key:"addItem",value:function(e,t){var n=this.getItems();n[e]=t,this.saveItems(n)}},{key:"removeItem",value:function(e){var t=this.getItems();delete t[e],this.saveItems(t)}},{key:"saveItems",value:function(e){localStorage.setItem(this.name,JSON.stringify(e)),this._emit(e)}},{key:"clear",value:function(){localStorage.removeItem(this.name),this._emit({})}},{key:"on",value:function(e){var t=Object.keys(this.events).length;return this.events[t]=e,t}},{key:"off",value:function(e){delete this.events[e]}},{key:"_emit",value:function(e){for(var t in this.events)this.events[t](e)}}]),e}()),pt=new jt("rws-devices"),ft=function(e){var t=Object(c["ref"])([]),n=function(){var e=Object(a["a"])(Object(o["a"])().mark((function e(n){var c,r;return Object(o["a"])().wrap((function(e){while(1)switch(e.prev=e.next){case 0:return c=pt.getItems()[n]||[],e.next=3,q.rws.getDevices(n);case 3:r=e.sent,t.value=r.map((function(e){var t=c.find((function(t){return t.address===e.toHuman()}));return{name:t?t.name:"",address:e.toHuman()}}));case 5:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}();return Object(c["watchEffect"])(Object(a["a"])(Object(o["a"])().mark((function t(){return Object(o["a"])().wrap((function(t){while(1)switch(t.prev=t.next){case 0:return t.next=2,n(e.value);case 2:case"end":return t.stop()}}),t)})))),{devices:t,loadDevices:n}},mt=n("5d95"),ht=Object(c["createTextVNode"])("Related services"),vt=Object(c["createTextVNode"])(" Get Home Assistant account for Robonomics Parachain usage "),wt=Object(c["createTextVNode"])(" Recieve and decrypt the telemetry from your smart home IoT devices "),xt=Object(c["createTextVNode"])(" Set color for smart lamp via Robonomics Subscription - Decentrilized IoT cloud alternative. ");function gt(e,t){var n=Object(c["resolveComponent"])("robo-card-label-section"),r=Object(c["resolveComponent"])("robo-card-label"),o=Object(c["resolveComponent"])("robo-template-services-item"),a=Object(c["resolveComponent"])("robo-grid"),i=Object(c["resolveComponent"])("robo-card-section"),u=Object(c["resolveComponent"])("robo-card"),s=Object(c["resolveComponent"])("robo-section");return Object(c["openBlock"])(),Object(c["createBlock"])(s,null,{default:Object(c["withCtx"])((function(){return[Object(c["createVNode"])(u,null,{default:Object(c["withCtx"])((function(){return[Object(c["createVNode"])(r,null,{default:Object(c["withCtx"])((function(){return[Object(c["createVNode"])(n,null,{default:Object(c["withCtx"])((function(){return[ht]})),_:1})]})),_:1}),Object(c["createVNode"])(i,null,{default:Object(c["withCtx"])((function(){return[Object(c["createVNode"])(a,{columnsRepeat:"3",offset:"x0"},{default:Object(c["withCtx"])((function(){return[Object(c["createVNode"])(o,{router:{name:"home-assistant-account"},label:"demo",picture:"./images/services-ha.jpg",providers:[{name:"Robonomics Core Team",link:"https://robonomics.network"}],title:"Home Assistant account"},{default:Object(c["withCtx"])((function(){return[vt]})),_:1},8,["providers"]),Object(c["createVNode"])(o,{href:"https://vol4tim.github.io/account-manager/",label:"demo",picture:"./images/services-ha.jpg",providers:[{name:"Robonomics Core Team",link:"https://robonomics.network"}],title:"SmartHome Telemetry"},{default:Object(c["withCtx"])((function(){return[wt]})),_:1},8,["providers"]),Object(c["createVNode"])(o,{router:{name:"lights-up"},label:"demo",picture:"./images/services-lights-up.jpg",providers:[{name:"Robonomics Core Team",link:"https://robonomics.network"}],title:"Lights up!"},{default:Object(c["withCtx"])((function(){return[xt]})),_:1},8,["providers"])]})),_:1})]})),_:1})]})),_:1})]})),_:1})}const Ct={},Nt=j()(Ct,[["render",gt]]);var Vt=Nt,kt={components:{RelatedServices:Vt},setup:function(){var e=ve(),t=e.account,n=e.unsubscribe;Object(c["onUnmounted"])((function(){n()}));var r=we(t),o=ft(t),a=o.devices,i=o.loadDevices,u=Object(me["c"])();return Object(c["watch"])(r.subscription,(function(e,t){void 0!==t&&(null!==e&&r.isActive.value||u.push({name:"subscription-bid"}))}),{immediate:!0}),{owner:t,subscription:r,devices:a,loadDevices:i}},data:function(){return{newDeviceName:"",newDeviceAddress:"",error:null,process:!1,itemKey:1}},watch:{devices:function(){this.newDeviceName="Account-".concat(this.devices.length+1)}},computed:{isAddressExists:function(){var e=this;return!(this.devices.findIndex((function(t){return t.address===e.newDeviceAddress}))<0)},validNewAddress:function(){return!(!this.newDeviceAddress||48!==this.newDeviceAddress.length||!Object(mt["a"])(this.newDeviceAddress,q.api.registry.chainSS58)[0])}},methods:{save:function(e){var t=this;return Object(a["a"])(Object(o["a"])().mark((function n(){var c,r;return Object(o["a"])().wrap((function(n){while(1)switch(n.prev=n.next){case 0:return t.error=null,t.process=!0,n.prev=2,n.next=5,q.rws.setDevices(e.map((function(e){return e.address})));case 5:return c=n.sent,n.next=8,q.accountManager.signAndSend(c);case 8:return r=n.sent,console.log("saved block",r.block,r.tx),pt.addItem(t.owner,e),n.next=13,t.loadDevices(t.owner);case 13:t.process=!1,n.next=21;break;case 16:n.prev=16,n.t0=n["catch"](2),console.log(n.t0),t.error=n.t0.message,t.process=!1;case 21:case"end":return n.stop()}}),n,null,[[2,16]])})))()},add:function(e,t){var n=this;return Object(a["a"])(Object(o["a"])().mark((function c(){var r;return Object(o["a"])().wrap((function(c){while(1)switch(c.prev=c.next){case 0:if(e(),n.validNewAddress){c.next=4;break}return t(!1,"Check the address, incorrect format"),c.abrupt("return");case 4:if(!n.isAddressExists){c.next=7;break}return t(!1,"This address already exists"),c.abrupt("return");case 7:return r=Object(Ot["a"])(n.devices),r.push({name:n.newDeviceName,address:n.newDeviceAddress}),c.next=11,n.save(r);case 11:n.newDeviceName="Account-".concat(r.length+1),n.newDeviceAddress="",t(!0),n.itemKey+=1;case 15:case"end":return c.stop()}}),c)})))()},remove:function(e,t,n){var c=this;return Object(a["a"])(Object(o["a"])().mark((function r(){var a;return Object(o["a"])().wrap((function(r){while(1)switch(r.prev=r.next){case 0:return t(),a=c.devices.filter((function(t){return t.address!==e})),r.next=4,c.save(a);case 4:n(!0);case 5:case"end":return r.stop()}}),r)})))()},editName:function(e,t){e(),pt.addItem(this.owner,this.devices),t(!0)}}};const yt=j()(kt,[["render",dt]]);var _t=yt,Bt=Object(c["createTextVNode"])("Services"),Tt=Object(c["createTextVNode"])(" Robonomics contains a complete set of tools for developing IoT applications, both on the robotics and the user interface sides. Communication between the user and device happens using the most successful technologies from the Web3 world – IPFS, Ethereum, and Polkadot. Thus, developers can create modern and secure applications for Smart Cities and Industry 4.0. "),St=Object(c["createTextVNode"])("Learn more"),At=Object(c["createTextVNode"])(" Recieve and decrypt the telemetry from your smart home IoT devices "),Dt=Object(c["createTextVNode"])(" Set the colour of your smart lamp with your Robonomics Subscription - a Decentralized IoT cloud alternative. "),Et=Object(c["createTextVNode"])(" Register a HomeAssistant account and start using the Robonomics Parachain with your IoT devices. "),It=Object(c["createTextVNode"])(" Robonomics won a parachain slot on Kusama, which created an excellent opportunity for Robonomics to scale the network up to 1 million IoT systems connected in real-time without any centralized regulators. "),Pt=Object(c["createTextVNode"])(" The Sensors Robonomics Network is a civilian network of sensors to monitor air quality. Anyone can build their own sensor or use an off-the-shelf solution from the development team and set it up in their home. "),Rt=Object(c["createTextVNode"])(" Learn and practice with the Boston Dynamics Spot robot wherever you are. After each lesson you will receive a captured video of the robot movements and a printable PDF certificate. "),Ut=Object(c["createTextVNode"])(" Connect to an autonomous telescope in the dark night of the Atacama desert in Chile to capture an astronomical object and mint unique NFTs in a few clicks. "),zt=Object(c["createTextVNode"])(" Carbon footprint clearance for smart buildings based on geolocation and energy consumption information. ");function Mt(e,t){var n=Object(c["resolveComponent"])("robo-card-label-section"),r=Object(c["resolveComponent"])("robo-link"),o=Object(c["resolveComponent"])("robo-card-label"),a=Object(c["resolveComponent"])("robo-template-services-item"),i=Object(c["resolveComponent"])("robo-grid"),u=Object(c["resolveComponent"])("robo-card-section"),s=Object(c["resolveComponent"])("robo-card"),l=Object(c["resolveComponent"])("robo-grid-item");return Object(c["openBlock"])(),Object(c["createBlock"])(l,null,{default:Object(c["withCtx"])((function(){return[Object(c["createVNode"])(s,{allowExpand:""},{default:Object(c["withCtx"])((function(){return[Object(c["createVNode"])(o,null,{default:Object(c["withCtx"])((function(){return[Object(c["createVNode"])(n,null,{default:Object(c["withCtx"])((function(){return[Bt]})),_:1}),Object(c["createVNode"])(n,{info:""},{default:Object(c["withCtx"])((function(){return[Tt,Object(c["createVNode"])(r,{href:"https://robonomics.network/"},{default:Object(c["withCtx"])((function(){return[St]})),_:1})]})),_:1})]})),_:1}),Object(c["createVNode"])(u,null,{default:Object(c["withCtx"])((function(){return[Object(c["createVNode"])(i,{columnsRepeat:"3",offset:"x0"},{default:Object(c["withCtx"])((function(){return[Object(c["createVNode"])(a,{href:"https://vol4tim.github.io/account-manager/#/",label:"demo",picture:"./images/services-telemetry.jpg",providers:[{name:"Robonomics Core Team",link:"https://robonomics.network"}],title:"SmartHome Telemetry"},{default:Object(c["withCtx"])((function(){return[At]})),_:1},8,["providers"]),Object(c["createVNode"])(a,{router:{name:"lights-up"},label:"demo",picture:"./images/services-lights-up.jpg",providers:[{name:"Robonomics Core Team",link:"https://robonomics.network"}],title:"Lights Up"},{default:Object(c["withCtx"])((function(){return[Dt]})),_:1},8,["providers"]),Object(c["createVNode"])(a,{router:{name:"home-assistant-account"},label:"demo",picture:"./images/services-ha.jpg",providers:[{name:"Robonomics Core Team",link:"https://robonomics.network"}],title:"HomeAssistant Account"},{default:Object(c["withCtx"])((function(){return[Et]})),_:1},8,["providers"]),Object(c["createVNode"])(a,{href:"https://polkadot.js.org/apps/?rpc=wss%3A%2F%2Fkusama.rpc.robonomics.network%2F#/explorer",picture:"./images/services-kusama-parachain.jpg",providers:[{name:"Robonomics Core Team",link:"https://robonomics.network"}],title:"Robonomics Kusama Parachain"},{default:Object(c["withCtx"])((function(){return[It]})),_:1},8,["providers"]),Object(c["createVNode"])(a,{href:"https://sensors.robonomics.network/#/",picture:"./images/services-sensors.jpg",providers:[{name:"Robonomics Core Team",link:"https://robonomics.network"},{name:"Airalab Rus",link:"https://airalab.org/en/"}],title:"Decentralized Sensor Map"},{default:Object(c["withCtx"])((function(){return[Pt]})),_:1},8,["providers"]),Object(c["createVNode"])(a,{href:"https://dapp.spot-sdk.education/#/",picture:"./images/services-spot.jpg",providers:[{name:"Robonomics Core Team",link:"https://robonomics.network"},{name:"Merklebot",link:"https://merklebot.com"}],title:"Boston Dynamics Spot SDK lessons"},{default:Object(c["withCtx"])((function(){return[Rt]})),_:1},8,["providers"]),Object(c["createVNode"])(a,{href:"https://telescope.merklebot.com/#/",picture:"./images/services-telescope.jpg",providers:[{name:"Robonomics Core Team",link:"https://robonomics.network"},{name:"Merklebot",link:"https://merklebot.com"}],title:"An Autonomous Telescope Minting RMRK NFT's"},{default:Object(c["withCtx"])((function(){return[Ut]})),_:1},8,["providers"]),Object(c["createVNode"])(a,{href:"https://dapp.ipci.io/#/offsetting",picture:"./images/services-offsetting.jpg",providers:[{name:"Robonomics Core Team",link:"https://robonomics.network"},{name:"DAO IPCI",link:"https://ipci.io/"},{name:"Evercity",link:"https://www.evercity.io/"}],title:"Smart Building Offsetting"},{default:Object(c["withCtx"])((function(){return[zt]})),_:1},8,["providers"])]})),_:1})]})),_:1})]})),_:1})]})),_:1})}const Lt={},Ft=j()(Lt,[["render",Mt]]);var Ht=Ft,$t=Object(c["createTextVNode"])("Lights up"),Wt=Object(c["createTextVNode"])(" Set color for smart lamp via Robonomics Subscription - Decentrilized IoT cloud alternative. "),Jt=Object(c["createTextVNode"])("Choose an account:"),Kt=Object(c["createTextVNode"])("Get IoT Subscription:"),Yt=Object(c["createTextVNode"])(" Ask the "),qt=Object(c["createTextVNode"])(" @robonomics_free_rws "),Gt=Object(c["createTextVNode"])(" Telegram bot to add your account to the Workshop IoT Subscription "),Qt=Object(c["createTextVNode"])(" @robonomics_free_rws "),Xt=Object(c["createTextVNode"])(" Choose any color you like: "),Zt=Object(c["createTextVNode"])(" Sign and send a transaction to the Robonomics Parachain: "),en=Object(c["createTextVNode"])(" Waiting for ipfs node "),tn=Object(c["createTextVNode"])("Submit a transaction "),nn=Object(c["createTextVNode"])(" Transaction submitted ");function cn(e,t,n,r,o,a){var i=Object(c["resolveComponent"])("robo-card-label-section"),u=Object(c["resolveComponent"])("robo-card-label"),s=Object(c["resolveComponent"])("robo-icon"),l=Object(c["resolveComponent"])("robo-card-title"),b=Object(c["resolveComponent"])("robo-account-polkadot"),d=Object(c["resolveComponent"])("robo-list-item"),O=Object(c["resolveComponent"])("robo-status"),j=Object(c["resolveComponent"])("robo-text"),p=Object(c["resolveComponent"])("robo-link"),f=Object(c["resolveComponent"])("robo-input"),m=Object(c["resolveComponent"])("robo-button"),h=Object(c["resolveComponent"])("robo-list"),v=Object(c["resolveComponent"])("robo-grid"),w=Object(c["resolveComponent"])("robo-card-section"),x=Object(c["resolveComponent"])("robo-card"),g=Object(c["resolveComponent"])("robo-grid-item");return Object(c["openBlock"])(),Object(c["createBlock"])(g,null,{default:Object(c["withCtx"])((function(){return[Object(c["createVNode"])(x,{allowExpand:""},{default:Object(c["withCtx"])((function(){return[Object(c["createVNode"])(u,null,{default:Object(c["withCtx"])((function(){return[Object(c["createVNode"])(i,null,{default:Object(c["withCtx"])((function(){return[$t]})),_:1}),Object(c["createVNode"])(i,{info:""},{default:Object(c["withCtx"])((function(){return[Wt]})),_:1})]})),_:1}),Object(c["createVNode"])(w,null,{default:Object(c["withCtx"])((function(){return[Object(c["createVNode"])(v,{columns:"4rem 5fr"},{default:Object(c["withCtx"])((function(){return[Object(c["createElementVNode"])("div",null,[Object(c["createVNode"])(s,{icon:"lightbulb",color:o.colorLightUp,size:"huge"},null,8,["color"])]),Object(c["createVNode"])(h,{gap:"x2",fullLine:""},{default:Object(c["withCtx"])((function(){return[Object(c["createVNode"])(d,null,{default:Object(c["withCtx"])((function(){return[Object(c["createVNode"])(l,{size:"3"},{default:Object(c["withCtx"])((function(){return[Jt]})),_:1}),Object(c["createVNode"])(b,{extensionAllowShift:"",inline:"",short:""})]})),_:1}),Object(c["createVNode"])(d,null,{default:Object(c["withCtx"])((function(){return[Object(c["createVNode"])(l,{size:"3"},{default:Object(c["withCtx"])((function(){return[Kt]})),_:1}),o.isSubscription?(Object(c["openBlock"])(),Object(c["createElementBlock"])(c["Fragment"],{key:1},[Object(c["createVNode"])(j,{size:"big",weight:"bold"},{default:Object(c["withCtx"])((function(){return[Object(c["createVNode"])(O,{type:"success",textRight:"Your Workshop IoT Subscription is active"})]})),_:1}),Object(c["createVNode"])(j,null,{default:Object(c["withCtx"])((function(){return[Object(c["createVNode"])(p,{href:"https://t.me/robonomics_free_rws_bot"},{default:Object(c["withCtx"])((function(){return[Qt]})),_:1})]})),_:1})],64)):(Object(c["openBlock"])(),Object(c["createElementBlock"])(c["Fragment"],{key:0},[Object(c["createVNode"])(j,{size:"big",weight:"bold"},{default:Object(c["withCtx"])((function(){return[Object(c["createVNode"])(O,{type:"warning",textRight:"No active subscription"})]})),_:1}),Object(c["createVNode"])(j,null,{default:Object(c["withCtx"])((function(){return[Yt,Object(c["createVNode"])(p,{href:"https://t.me/robonomics_free_rws_bot"},{default:Object(c["withCtx"])((function(){return[qt]})),_:1}),Gt]})),_:1})],64))]})),_:1}),Object(c["createVNode"])(d,null,{default:Object(c["withCtx"])((function(){return[Object(c["createVNode"])(l,{size:"3"},{default:Object(c["withCtx"])((function(){return[Xt]})),_:1}),Object(c["createVNode"])(f,{type:"color",modelValue:o.colorLightUp,"onUpdate:modelValue":t[0]||(t[0]=function(e){return o.colorLightUp=e})},null,8,["modelValue"])]})),_:1}),Object(c["createVNode"])(d,null,{default:Object(c["withCtx"])((function(){return[Object(c["createVNode"])(l,{size:"3"},{default:Object(c["withCtx"])((function(){return[Zt]})),_:1}),o.isOnlineIpfs?(Object(c["openBlock"])(),Object(c["createElementBlock"])(c["Fragment"],{key:1},[o.tx?(Object(c["openBlock"])(),Object(c["createBlock"])(m,{key:1,type:"ok",iconLeft:"check"},{default:Object(c["withCtx"])((function(){return[nn]})),_:1})):(Object(c["openBlock"])(),Object(c["createBlock"])(m,{key:0,onClick:a.send,disabled:o.process||!o.isSubscription,loading:o.process},{default:Object(c["withCtx"])((function(){return[tn]})),_:1},8,["onClick","disabled","loading"]))],64)):(Object(c["openBlock"])(),Object(c["createBlock"])(m,{key:0,disabled:!0,loading:!0},{default:Object(c["withCtx"])((function(){return[en]})),_:1}))]})),_:1})]})),_:1})]})),_:1})]})),_:1})]})),_:1})]})),_:1})}n("caad"),n("2532"),n("ac1f"),n("d9e2");var rn=n("f993"),on=null;function an(e){return un.apply(this,arguments)}function un(){return un=Object(a["a"])(Object(o["a"])().mark((function e(t){return Object(o["a"])().wrap((function(e){while(1)switch(e.prev=e.next){case 0:if(null!==on){e.next=4;break}return e.next=3,Object(rn["create"])(t);case 3:on=e.sent;case 4:return e.abrupt("return",on);case 5:case"end":return e.stop()}}),e)}))),un.apply(this,arguments)}function sn(e){return ln.apply(this,arguments)}function ln(){return ln=Object(a["a"])(Object(o["a"])().mark((function e(t){var n,c;return Object(o["a"])().wrap((function(e){while(1)switch(e.prev=e.next){case 0:return e.prev=0,n=new FormData,n.append("file",t),e.next=5,l.a.post("https://ipfs.infura.io:5001/api/v0/add?stream-channels=true",n,{headers:{"Content-Type":"multipart/form-data"}});case 5:return c=e.sent,console.log("infura add file",c.data.Hash),e.abrupt("return",c.data.Hash);case 10:e.prev=10,e.t0=e["catch"](0),console.log(e.t0);case 13:case"end":return e.stop()}}),e,null,[[0,10]])}))),ln.apply(this,arguments)}function bn(e,t){return dn.apply(this,arguments)}function dn(){return dn=Object(a["a"])(Object(o["a"])().mark((function e(t,n){var c,r;return Object(o["a"])().wrap((function(e){while(1)switch(e.prev=e.next){case 0:if(null!==on){e.next=2;break}throw new Error("ipfs not initialized");case 2:return e.prev=2,e.next=5,sn(n);case 5:e.next=10;break;case 7:e.prev=7,e.t0=e["catch"](2),console.log(e.t0);case 10:return c={path:t,content:n},e.next=13,on.add(c);case 13:return r=e.sent,e.abrupt("return",r.cid.toString());case 15:case"end":return e.stop()}}),e,null,[[2,7]])}))),dn.apply(this,arguments)}function On(e){return jn.apply(this,arguments)}function jn(){return jn=Object(a["a"])(Object(o["a"])().mark((function e(t){var n;return Object(o["a"])().wrap((function(e){while(1)switch(e.prev=e.next){case 0:return e.next=2,l.a.get("https://ipfs.io/ipfs/".concat(t));case 2:return n=e.sent,e.abrupt("return",n.data);case 4:case"end":return e.stop()}}),e)}))),jn.apply(this,arguments)}var pn={install:function(e,t){e.config.globalProperties.$ipfs=an(t)}},fn={data:function(){return{subAdmin:"4D6GaVUbg6TXDup7gdvHWyERQDK99vyreRU2hjdwptyuQUpP",rwsOwner:"4F6E8k2L4dpUx5Nu1uZDrKfLQxETGG5WkgsZm8PP6EE6Qnyh",sender:null,unsubscribeAccount:null,colorLightUp:"#8CD517",error:null,process:!1,isOnlineIpfs:!1,isSubscription:!1,tx:!1}},watch:{colorLightUp:function(){this.tx=!1}},created:function(){var e=this;return Object(a["a"])(Object(o["a"])().mark((function t(){var n;return Object(o["a"])().wrap((function(t){while(1)switch(t.prev=t.next){case 0:return q.accountManager.account&&(e.sender=q.accountManager.account.address,e.hasSubscription()),e.unsubscribeAccount=q.accountManager.onChange((function(t){e.sender=t.address,e.hasSubscription()})),t.next=4,e.$ipfs;case 4:n=t.sent,e.isOnlineIpfs=n.isOnline();case 6:case"end":return t.stop()}}),t)})))()},unmounted:function(){this.unsubscribeAccount&&this.unsubscribeAccount()},methods:{hasSubscription:function(){var e=this;return Object(a["a"])(Object(o["a"])().mark((function t(){var n;return Object(o["a"])().wrap((function(t){while(1)switch(t.prev=t.next){case 0:return t.next=2,q.rws.getDevices(e.rwsOwner);case 2:if(n=t.sent,!n.includes(e.sender)){t.next=6;break}return e.isSubscription=!0,t.abrupt("return");case 6:e.isSubscription=!1;case 7:case"end":return t.stop()}}),t)})))()},hexToRgb:function(e){var t=/^#?([a-f\d]{2})([a-f\d]{2})([a-f\d]{2})$/i.exec(e);return t?[parseInt(t[1],16),parseInt(t[2],16),parseInt(t[3],16)]:null},getParameter:function(){var e={platform:"light",name:"turn_on",params:{entity_id:"light.0x00158d000127fd62_light",rgb_color:this.hexToRgb(this.colorLightUp)}};return JSON.stringify(e)},send:function(){var e=this;return Object(a["a"])(Object(o["a"])().mark((function t(){var n,c,r,a;return Object(o["a"])().wrap((function(t){while(1)switch(t.prev=t.next){case 0:return e.error=null,e.process=!0,e.tx=!1,t.prev=3,n=e.getParameter(),t.next=7,bn("launch",n);case 7:return c=t.sent,q.accountManager.useSubscription(e.rwsOwner),console.log("sender",q.accountManager.account.address),t.next=12,q.launch.send(e.subAdmin,R["c"].cidToHex(c));case 12:return r=t.sent,t.next=15,q.accountManager.signAndSend(r);case 15:a=t.sent,console.log(a),e.process=!1,e.tx=!0,t.next=26;break;case 21:t.prev=21,t.t0=t["catch"](3),console.log(t.t0),e.error=t.t0.message,e.process=!1;case 26:q.accountManager.useSubscription(!1);case 27:case"end":return t.stop()}}),t,null,[[3,21]])})))()}}};const mn=j()(fn,[["render",cn]]);var hn=mn,vn=Object(c["createTextVNode"])(" Verify your identity "),wn=Object(c["createTextVNode"])("Choose an account:"),xn=Object(c["createTextVNode"])(" Account type must be ed25519 "),gn=Object(c["createTextVNode"])(" Enter the seed phrase of your account to encrypt the password "),Cn=Object(c["createTextVNode"])(" Wrong seed phrase "),Nn=Object(c["createTextVNode"])(" Enter address of subscription owner "),Vn=Object(c["createTextVNode"])(" Enter address of administrator Home Assistant "),kn=Object(c["createTextVNode"])(" Address not added to subscription "),yn=Object(c["createTextVNode"])(" Your Home Assistant password "),_n={style:{"margin-bottom":"20px"}},Bn=Object(c["createTextVNode"])("Registration"),Tn=Object(c["createTextVNode"])("   "),Sn=Object(c["createTextVNode"])("Recovery"),An=Object(c["createTextVNode"])("Enter password"),Dn=Object(c["createTextVNode"])(" Please wait "),En=Object(c["createTextVNode"])(" Registration "),In=Object(c["createTextVNode"])("Your password"),Pn=Object(c["createTextVNode"])(" | "),Rn={key:0},Un={key:1},zn=Object(c["createTextVNode"])("Not found password"),Mn=Object(c["createTextVNode"])(" Recovery ");function Ln(e,t,n,r,o,a){var i=Object(c["resolveComponent"])("robo-card-label-section"),u=Object(c["resolveComponent"])("robo-card-label"),s=Object(c["resolveComponent"])("robo-card-title"),l=Object(c["resolveComponent"])("robo-account-polkadot"),b=Object(c["resolveComponent"])("robo-list-item"),d=Object(c["resolveComponent"])("robo-text"),O=Object(c["resolveComponent"])("robo-input"),j=Object(c["resolveComponent"])("robo-list"),p=Object(c["resolveComponent"])("robo-card-section"),f=Object(c["resolveComponent"])("robo-card"),m=Object(c["resolveComponent"])("robo-button"),h=Object(c["resolveComponent"])("robo-loader"),v=Object(c["resolveComponent"])("robo-grid-item");return Object(c["openBlock"])(),Object(c["createBlock"])(v,null,{default:Object(c["withCtx"])((function(){return[Object(c["createVNode"])(f,{allowExpand:""},{default:Object(c["withCtx"])((function(){return[Object(c["createVNode"])(u,null,{default:Object(c["withCtx"])((function(){return[Object(c["createVNode"])(i,null,{default:Object(c["withCtx"])((function(){return[vn]})),_:1})]})),_:1}),Object(c["createVNode"])(p,null,{default:Object(c["withCtx"])((function(){return[Object(c["createVNode"])(j,{gap:"x2",fullLine:""},{default:Object(c["withCtx"])((function(){return[Object(c["createVNode"])(b,null,{default:Object(c["withCtx"])((function(){return[Object(c["createVNode"])(s,{size:"3"},{default:Object(c["withCtx"])((function(){return[wn]})),_:1}),Object(c["createVNode"])(l,{extensionAllowShift:"",inline:"",short:""})]})),_:1}),r.correctAccountType?Object(c["createCommentVNode"])("",!0):(Object(c["openBlock"])(),Object(c["createBlock"])(d,{key:0,highlight:"error",style:{"margin-bottom":"30px"}},{default:Object(c["withCtx"])((function(){return[xn]})),_:1})),Object(c["createVNode"])(b,null,{default:Object(c["withCtx"])((function(){return[Object(c["createVNode"])(d,{weight:"light"},{default:Object(c["withCtx"])((function(){return[gn]})),_:1}),Object(c["createVNode"])(O,{placeholder:"Place seed here",offset:"x1",modelValue:o.uri,"onUpdate:modelValue":t[0]||(t[0]=function(e){return o.uri=e}),type:"password"},null,8,["modelValue"])]})),_:1}),o.uri&&!a.validateUri?(Object(c["openBlock"])(),Object(c["createBlock"])(d,{key:1,highlight:"error",style:{"margin-bottom":"30px"}},{default:Object(c["withCtx"])((function(){return[Cn]})),_:1})):Object(c["createCommentVNode"])("",!0),Object(c["createVNode"])(b,null,{default:Object(c["withCtx"])((function(){return[Object(c["createVNode"])(d,{weight:"light"},{default:Object(c["withCtx"])((function(){return[Nn]})),_:1}),Object(c["createVNode"])(O,{modelValue:r.subscriptionOwner,"onUpdate:modelValue":t[1]||(t[1]=function(e){return r.subscriptionOwner=e})},null,8,["modelValue"]),Object(c["createVNode"])(d,{weight:"light"},{default:Object(c["withCtx"])((function(){return[Vn]})),_:1}),Object(c["createVNode"])(O,{modelValue:r.adminHA,"onUpdate:modelValue":t[2]||(t[2]=function(e){return r.adminHA=e})},null,8,["modelValue"])]})),_:1}),r.subscriptionOwner&&!r.hasSubscription?(Object(c["openBlock"])(),Object(c["createBlock"])(d,{key:2,highlight:"error",style:{"margin-bottom":"30px"}},{default:Object(c["withCtx"])((function(){return[kn]})),_:1})):Object(c["createCommentVNode"])("",!0)]})),_:1})]})),_:1})]})),_:1}),Object(c["createVNode"])(f,{allowExpand:""},{default:Object(c["withCtx"])((function(){return[Object(c["createVNode"])(u,null,{default:Object(c["withCtx"])((function(){return[Object(c["createVNode"])(i,null,{default:Object(c["withCtx"])((function(){return[yn]})),_:1})]})),_:1}),Object(c["createVNode"])(p,null,{default:Object(c["withCtx"])((function(){return[Object(c["createVNode"])(j,{gap:"x2",fullLine:""},{default:Object(c["withCtx"])((function(){return[Object(c["createElementVNode"])("div",_n,[Object(c["createVNode"])(m,{onClick:t[3]||(t[3]=function(e){return o.form="registration"}),disabled:"registration"===o.form},{default:Object(c["withCtx"])((function(){return[Bn]})),_:1},8,["disabled"]),Tn,Object(c["createVNode"])(m,{onClick:t[4]||(t[4]=function(e){return o.form="recovery"}),disabled:"recovery"===o.form},{default:Object(c["withCtx"])((function(){return[Sn]})),_:1},8,["disabled"])]),"registration"===o.form?(Object(c["openBlock"])(),Object(c["createElementBlock"])(c["Fragment"],{key:0},["registration"===o.form?(Object(c["openBlock"])(),Object(c["createBlock"])(b,{key:0},{default:Object(c["withCtx"])((function(){return[Object(c["createVNode"])(d,{weight:"light"},{default:Object(c["withCtx"])((function(){return[An]})),_:1}),Object(c["createVNode"])(O,{modelValue:o.passwordInput,"onUpdate:modelValue":t[5]||(t[5]=function(e){return o.passwordInput=e}),type:"password"},null,8,["modelValue"])]})),_:1})):Object(c["createCommentVNode"])("",!0),o.process?(Object(c["openBlock"])(),Object(c["createBlock"])(b,{key:1},{default:Object(c["withCtx"])((function(){return[Object(c["createVNode"])(d,{weight:"bold",size:"medium"},{default:Object(c["withCtx"])((function(){return[Dn,Object(c["createVNode"])(h)]})),_:1})]})),_:1})):Object(c["createCommentVNode"])("",!0),"registration"===o.form?(Object(c["openBlock"])(),Object(c["createBlock"])(m,{key:2,onClick:a.savePassword,disabled:!r.correctAccountType||!a.validateUri||!r.adminHA||!r.hasSubscription||!o.passwordForAdmin||!o.passwordForRecovery||o.process},{default:Object(c["withCtx"])((function(){return[En]})),_:1},8,["onClick","disabled"])):Object(c["createCommentVNode"])("",!0)],64)):(Object(c["openBlock"])(),Object(c["createElementBlock"])(c["Fragment"],{key:1},[r.encryptedPassword?(Object(c["openBlock"])(),Object(c["createBlock"])(b,{key:0},{default:Object(c["withCtx"])((function(){return[Object(c["createVNode"])(d,{weight:"light"},{default:Object(c["withCtx"])((function(){return[In]})),_:1}),Object(c["createElementVNode"])("b",null,Object(c["toDisplayString"])(new Date(r.encryptedPassword.date).toLocaleString()),1),Pn,r.encryptedPassword.password?(Object(c["openBlock"])(),Object(c["createElementBlock"])("span",Rn,Object(c["toDisplayString"])(r.encryptedPassword.password),1)):(Object(c["openBlock"])(),Object(c["createElementBlock"])("span",Un,Object(c["toDisplayString"])(r.encryptedPassword.encrypt.substring(0,5))+"... ",1))]})),_:1})):(Object(c["openBlock"])(),Object(c["createBlock"])(d,{key:1,highlight:"error"},{default:Object(c["withCtx"])((function(){return[zn]})),_:1})),Object(c["createVNode"])(m,{onClick:a.recoveryPassword,disabled:!r.correctAccountType||!a.validateUri||null===r.encryptedPassword},{default:Object(c["withCtx"])((function(){return[Mn]})),_:1},8,["onClick","disabled"])],64))]})),_:1})]})),_:1})]})),_:1})]})),_:1})}var Fn=n("b85c"),Hn=n("5502"),$n=n("e4fd"),Wn=n("7ae8"),Jn=n("d880"),Kn=n("8d9d"),Yn=n("19ef"),qn=n("df7b"),Gn={setup:function(){var e=Object(c["ref"])(""),t=Object(c["ref"])(""),n=Object(c["ref"])(!1),r=Object(c["ref"])(null),i=Object(c["ref"])(!1),u=Object(Hn["b"])(),s=ve(),l=s.account,b=s.unsubscribe;Object(c["onUnmounted"])((function(){b()}));var d=function(){var e=Object(a["a"])(Object(o["a"])().mark((function e(t,c){var r;return Object(o["a"])().wrap((function(e){while(1)switch(e.prev=e.next){case 0:e.prev=0,Object(Kn["a"])(c),e.next=8;break;case 4:return e.prev=4,e.t0=e["catch"](0),n.value=!1,e.abrupt("return");case 8:return e.next=10,q.rws.getDevices(c);case 10:if(r=e.sent,!r.includes(t)){e.next=14;break}return n.value=!0,e.abrupt("return");case 14:n.value=!1;case 15:case"end":return e.stop()}}),e,null,[[0,4]])})));return function(t,n){return e.apply(this,arguments)}}();Object(c["watchEffect"])((function(){d(l.value,e.value)}));var O=function(){var e=Object(a["a"])(Object(o["a"])().mark((function e(n){var c,a,i,u,s,l;return Object(o["a"])().wrap((function(e){while(1)switch(e.prev=e.next){case 0:return c=null,e.next=3,q.datalog.read(n);case 3:a=e.sent,i=Object(Fn["a"])(a);try{for(i.s();!(u=i.n()).done;){s=u.value;try{l=JSON.parse(s[1].toHuman()),l.admin&&l.user&&l.ha&&l.ha===t.value&&(null===c||c.date<s[0].toNumber())&&(c={date:s[0].toNumber(),encrypt:l.user,password:""})}catch(o){}}}catch(b){i.e(b)}finally{i.f()}r.value=c;case 7:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}();return Object(c["watchEffect"])((function(){O(l.value)})),Object(c["watch"])(t,(function(){try{Object(Kn["a"])(t.value),O(l.value)}catch(e){}})),Object(c["watch"])(l,(function(){var e=u.state.robonomicsUIvue.polkadot.accounts.find((function(e){return e.address===l.value}));e&&"ed25519"===e.type?i.value=!0:i.value=!1})),{sender:l,subscriptionOwner:e,adminHA:t,hasSubscription:n,encryptedPassword:r,correctAccountType:i}},data:function(){return{error:null,process:!1,message:"",uri:"",passwordInput:"",passwordForAdmin:"",passwordForRecovery:"",form:"registration"}},computed:{account:function(){if(this.uri)try{var e=new $n["a"];return e.addFromUri(this.uri,{},"ed25519")}catch(t){console.log(t)}return null},validateUri:function(){return!(!this.account||!this.sender||Object(Yn["a"])(this.sender)!==Object(Yn["a"])(this.account.address))}},watch:{passwordInput:function(){this.passwordForRecovery=this.encrypt(this.passwordInput,this.account.address),this.passwordForAdmin=this.encrypt(this.passwordInput,this.adminHA)}},methods:{recoveryPassword:function(){this.encryptedPassword&&(this.encryptedPassword.password=this.decrypt(this.encryptedPassword.encrypt,this.account.address))},decrypt:function(e,t){var n=this.account.decryptMessage(Object(Wn["a"])(e),Object(W["a"])(Object(qn["a"])(t)));return Object(Jn["a"])(n)},encrypt:function(e,t){var n=this.account.encryptMessage(e,Object(W["a"])(Object(qn["a"])(t)));return Object(W["a"])(n)},savePassword:function(){var e=this;return Object(a["a"])(Object(o["a"])().mark((function t(){var n,c;return Object(o["a"])().wrap((function(t){while(1)switch(t.prev=t.next){case 0:return e.error=null,e.process=!0,e.tx=!1,e.message="",t.prev=4,q.accountManager.useSubscription(e.subscriptionOwner),t.next=8,q.datalog.write(JSON.stringify({subscription:e.subscriptionOwner,ha:e.adminHA,admin:e.passwordForAdmin,user:e.passwordForRecovery}));case 8:return n=t.sent,t.next=11,q.accountManager.signAndSend(n);case 11:c=t.sent,console.log(c),e.process=!1,e.tx=!0,e.message="Saved to block ".concat(c.blockNumber),t.next=23;break;case 18:t.prev=18,t.t0=t["catch"](4),console.log(t.t0),e.error=t.t0.message,e.process=!1;case 23:q.accountManager.useSubscription(!1);case 24:case"end":return t.stop()}}),t,null,[[4,18]])})))()}}};const Qn=j()(Gn,[["render",Ln]]);var Xn=Qn,Zn=Object(c["createTextVNode"])("Your subscription"),ec=Object(c["createTextVNode"])(" Owner: "),tc=Object(c["createTextVNode"])("Home assistent account"),nc=Object(c["createTextVNode"])(" datalog "),cc=Object(c["createTextVNode"])("Your accounts"),rc={style:{width:"100%"}},oc=Object(c["createTextVNode"])(" launch ");function ac(e,t,n,r,o,a){var i=Object(c["resolveComponent"])("robo-card-label-section"),u=Object(c["resolveComponent"])("robo-card-label"),s=Object(c["resolveComponent"])("robo-account-polkadot"),l=Object(c["resolveComponent"])("robo-text"),b=Object(c["resolveComponent"])("robo-list-item"),d=Object(c["resolveComponent"])("robo-list"),O=Object(c["resolveComponent"])("robo-card-section"),j=Object(c["resolveComponent"])("robo-card"),p=Object(c["resolveComponent"])("robo-section"),f=Object(c["resolveComponent"])("robo-input"),m=Object(c["resolveComponent"])("router-link"),h=Object(c["resolveComponent"])("robo-button"),v=Object(c["resolveComponent"])("robo-grid-item");return Object(c["openBlock"])(),Object(c["createBlock"])(v,null,{default:Object(c["withCtx"])((function(){return[Object(c["createVNode"])(p,null,{default:Object(c["withCtx"])((function(){return[Object(c["createVNode"])(j,{"back-image":"images/card-back-sample.png","back-position":"100% 100%","back-size":"contain"},{default:Object(c["withCtx"])((function(){return[Object(c["createVNode"])(u,null,{default:Object(c["withCtx"])((function(){return[Object(c["createVNode"])(i,null,{default:Object(c["withCtx"])((function(){return[Zn]})),_:1}),Object(c["createVNode"])(i,{info:""},{default:Object(c["withCtx"])((function(){return[Object(c["createTextVNode"])(Object(c["toDisplayString"])(e.$apptextSubscriptionInfo),1)]})),_:1})]})),_:1}),Object(c["createVNode"])(O,null,{default:Object(c["withCtx"])((function(){return[Object(c["createVNode"])(d,null,{default:Object(c["withCtx"])((function(){return[Object(c["createVNode"])(b,null,{default:Object(c["withCtx"])((function(){return[Object(c["createVNode"])(l,{weight:"bold"},{default:Object(c["withCtx"])((function(){return[ec,Object(c["createVNode"])(s,{short:"",inline:""})]})),_:1})]})),_:1})]})),_:1})]})),_:1})]})),_:1})]})),_:1}),a.isActive?(Object(c["openBlock"])(),Object(c["createElementBlock"])(c["Fragment"],{key:0},[Object(c["createVNode"])(d,{gap:"x2",fullLine:""},{default:Object(c["withCtx"])((function(){return[Object(c["createVNode"])(b,null,{default:Object(c["withCtx"])((function(){return[Object(c["createVNode"])(l,{weight:"light"},{default:Object(c["withCtx"])((function(){return[tc]})),_:1}),Object(c["createVNode"])(f,{modelValue:o.ha,"onUpdate:modelValue":t[0]||(t[0]=function(e){return o.ha=e})},null,8,["modelValue"]),o.ha?(Object(c["openBlock"])(),Object(c["createBlock"])(m,{key:0,to:{name:"smarthome-telemetry-datalog",params:{address:o.ha}}},{default:Object(c["withCtx"])((function(){return[nc]})),_:1},8,["to"])):Object(c["createCommentVNode"])("",!0)]})),_:1})]})),_:1}),Object(c["createVNode"])(p,null,{default:Object(c["withCtx"])((function(){return[Object(c["createVNode"])(j,{allowExpand:""},{default:Object(c["withCtx"])((function(){return[Object(c["createVNode"])(u,null,{default:Object(c["withCtx"])((function(){return[Object(c["createVNode"])(i,null,{default:Object(c["withCtx"])((function(){return[cc]})),_:1})]})),_:1}),Object(c["createVNode"])(O,null,{default:Object(c["withCtx"])((function(){return[Object(c["createVNode"])(p,{offset:"x1"},{default:Object(c["withCtx"])((function(){return[Object(c["createElementVNode"])("table",null,[Object(c["createElementVNode"])("tbody",null,[(Object(c["openBlock"])(!0),Object(c["createElementBlock"])(c["Fragment"],null,Object(c["renderList"])(o.devices,(function(e,t){return Object(c["openBlock"])(),Object(c["createElementBlock"])("tr",{key:t},[Object(c["createElementVNode"])("td",rc,[Object(c["createElementVNode"])("span",null,Object(c["toDisplayString"])(e.address),1)]),Object(c["createElementVNode"])("td",null,[e.saved?(Object(c["openBlock"])(),Object(c["createBlock"])(h,{key:0,onClick:function(t){return a.launch(e.address)},disabled:!o.ha},{default:Object(c["withCtx"])((function(){return[oc]})),_:2},1032,["onClick","disabled"])):Object(c["createCommentVNode"])("",!0)])])})),128))])])]})),_:1})]})),_:1})]})),_:1})]})),_:1})],64)):Object(c["createCommentVNode"])("",!0)]})),_:1})}var ic=function(e){return Object(c["pushScopeId"])("data-v-5c445850"),e=e(),Object(c["popScopeId"])(),e},uc=ic((function(){return Object(c["createElementVNode"])("h4",null,"Launch",-1)})),sc={class:"modal__content"};function lc(e,t,n,r,o,a){var i=Object(c["resolveComponent"])("robo-button"),u=Object(c["resolveComponent"])("Launch"),s=Object(c["resolveComponent"])("vue-final-modal");return Object(c["openBlock"])(),Object(c["createBlock"])(s,Object(c["mergeProps"])(e.$attrs,{classes:"modal-container","content-class":"modal-content"}),{default:Object(c["withCtx"])((function(e){var t=e.close;return[Object(c["createVNode"])(i,{iconLeft:"xmark",size:"small",class:"modal__close",onClick:t},null,8,["onClick"]),uc,Object(c["createElementVNode"])("div",sc,[Object(c["createVNode"])(u,{address:n.address,sender:n.sender},null,8,["address","sender"])])]})),_:1},16)}var bc=Object(c["createTextVNode"])("Platform"),dc=Object(c["createTextVNode"])("Name"),Oc=Object(c["createElementVNode"])("h5",null,"Params",-1),jc=Object(c["createTextVNode"])("Name"),pc=Object(c["createTextVNode"])("Value"),fc={style:{"text-align":"right"}},mc=Object(c["createTextVNode"])(" remove "),hc={style:{"margin-bottom":"20px","text-align":"right","margin-top":"-20px","padding-bottom":"20px"}},vc=Object(c["createElementVNode"])("label",{for:"isCrypto"},"crypto",-1),wc={key:0},xc=Object(c["createElementVNode"])("h5",null,"Your secret key for crypt message",-1),gc={key:0},Cc={key:0,class:"alert alert-info"},Nc={key:1,class:"alert alert-danger"},Vc={style:{"margin-top":"20px"}},kc={key:0},yc=Object(c["createTextVNode"])("Send");function _c(e,t,n,r,o,a){var i=Object(c["resolveComponent"])("robo-text"),u=Object(c["resolveComponent"])("robo-input"),s=Object(c["resolveComponent"])("robo-list-item"),l=Object(c["resolveComponent"])("robo-list"),b=Object(c["resolveComponent"])("robo-button");return Object(c["openBlock"])(),Object(c["createElementBlock"])("div",null,[Object(c["createVNode"])(l,{gap:"x2",fullLine:""},{default:Object(c["withCtx"])((function(){return[Object(c["createVNode"])(s,null,{default:Object(c["withCtx"])((function(){return[Object(c["createVNode"])(i,{weight:"light"},{default:Object(c["withCtx"])((function(){return[bc]})),_:1}),Object(c["createVNode"])(u,{modelValue:o.platform,"onUpdate:modelValue":t[0]||(t[0]=function(e){return o.platform=e})},null,8,["modelValue"])]})),_:1}),Object(c["createVNode"])(s,null,{default:Object(c["withCtx"])((function(){return[Object(c["createVNode"])(i,{weight:"light"},{default:Object(c["withCtx"])((function(){return[dc]})),_:1}),Object(c["createVNode"])(u,{modelValue:o.name,"onUpdate:modelValue":t[1]||(t[1]=function(e){return o.name=e})},null,8,["modelValue"])]})),_:1})]})),_:1}),Oc,Object(c["createVNode"])(l,{gap:"x2",fullLine:""},{default:Object(c["withCtx"])((function(){return[(Object(c["openBlock"])(!0),Object(c["createElementBlock"])(c["Fragment"],null,Object(c["renderList"])(o.params,(function(e,t){return Object(c["openBlock"])(),Object(c["createBlock"])(s,{key:t},{default:Object(c["withCtx"])((function(){return[Object(c["createVNode"])(i,{weight:"light"},{default:Object(c["withCtx"])((function(){return[jc]})),_:1}),Object(c["createVNode"])(u,{modelValue:e.name,"onUpdate:modelValue":function(t){return e.name=t}},null,8,["modelValue","onUpdate:modelValue"]),Object(c["createVNode"])(i,{weight:"light"},{default:Object(c["withCtx"])((function(){return[pc]})),_:1}),Object(c["createVNode"])(u,{modelValue:e.value,"onUpdate:modelValue":function(t){return e.value=t}},null,8,["modelValue","onUpdate:modelValue"]),Object(c["createElementVNode"])("div",fc,[Object(c["createVNode"])(b,{iconLeft:"xmark",type:"alarm",size:"small",onClick:function(e){return a.removeParam(t)},disabled:0===t},{default:Object(c["withCtx"])((function(){return[mc]})),_:2},1032,["onClick","disabled"])])]})),_:2},1024)})),128))]})),_:1}),Object(c["createElementVNode"])("div",hc,[Object(c["createVNode"])(b,{iconLeft:"plus",size:"small",type:"ok",onClick:a.addParam},null,8,["onClick"])]),Object(c["createElementVNode"])("div",null,[Object(c["createElementVNode"])("div",null,[Object(c["withDirectives"])(Object(c["createElementVNode"])("input",{"onUpdate:modelValue":t[2]||(t[2]=function(e){return o.isCrypto=e}),type:"checkbox",id:"isCrypto"},null,512),[[c["vModelCheckbox"],o.isCrypto]]),vc]),o.isCrypto?(Object(c["openBlock"])(),Object(c["createElementBlock"])("div",wc,[xc,Object(c["createVNode"])(u,{modelValue:o.uri,"onUpdate:modelValue":t[3]||(t[3]=function(e){return o.uri=e}),type:"password",placeholder:"secret"},null,8,["modelValue"]),a.validateUri?Object(c["createCommentVNode"])("",!0):(Object(c["openBlock"])(),Object(c["createElementBlock"])("div",gc,"Input your secret key")),a.validateUri?(Object(c["openBlock"])(),Object(c["createBlock"])(u,{key:1,modelValue:a.encryptMessage,"onUpdate:modelValue":t[4]||(t[4]=function(e){return a.encryptMessage=e}),disabled:""},null,8,["modelValue"])):Object(c["createCommentVNode"])("",!0)])):Object(c["createCommentVNode"])("",!0)]),o.message?(Object(c["openBlock"])(),Object(c["createElementBlock"])("div",Cc,Object(c["toDisplayString"])(o.message),1)):Object(c["createCommentVNode"])("",!0),o.error?(Object(c["openBlock"])(),Object(c["createElementBlock"])("div",Nc,Object(c["toDisplayString"])(o.error),1)):Object(c["createCommentVNode"])("",!0),Object(c["createElementVNode"])("div",Vc,[Object(c["createVNode"])(b,{onClick:a.save,disabled:o.process||!a.canSend},{default:Object(c["withCtx"])((function(){return[o.process?(Object(c["openBlock"])(),Object(c["createElementBlock"])("span",kc,"...")):(Object(c["openBlock"])(),Object(c["createElementBlock"])(c["Fragment"],{key:1},[yc],64))]})),_:1},8,["onClick","disabled"])])])}n("a434");var Bc={props:["address","sender"],data:function(){return{platform:"",name:"",params:[],error:null,message:null,process:!1,isCrypto:!1,uri:""}},computed:{account:function(){if(this.uri)try{var e=new $n["a"],t=e.addFromUri(this.uri,{},"ed25519");if(console.log(this.sender),console.log(Object(Yn["a"])(this.sender),Object(Yn["a"])(t.address)),Object(Yn["a"])(this.sender)===Object(Yn["a"])(t.address))return t;var n=e.addFromUri(this.uri,{},"sr25519");return console.log(Object(Yn["a"])(this.sender),Object(Yn["a"])(n.address)),Object(Yn["a"])(this.sender)===Object(Yn["a"])(n.address)?n:t}catch(c){console.log(c)}return null},validateUri:function(){return!(!this.account||Object(Yn["a"])(this.sender)!==Object(Yn["a"])(this.account.address))},encryptMessage:function(){return this.validateUri?this.encrypt(this.getParameter()):""},canSend:function(){return!this.isCrypto||!(!this.validateUri||!this.encryptMessage)}},created:function(){this.params.push({name:"entity_id",value:""})},methods:{getParameter:function(){var e,t={},n=Object(Fn["a"])(this.params);try{for(n.s();!(e=n.n()).done;){var c=e.value;t[c.name]=c.value}}catch(o){n.e(o)}finally{n.f()}var r={platform:this.platform,name:this.name,params:t};return JSON.stringify(r)},save:function(){var e=this;return Object(a["a"])(Object(o["a"])().mark((function t(){var n,c,r,a,i;return Object(o["a"])().wrap((function(t){while(1)switch(t.prev=t.next){case 0:return e.message=null,e.error=null,e.process=!0,n=q.accountManager.account.address,t.prev=4,c=e.getParameter(),e.isCrypto&&e.validateUri&&(c=e.encryptMessage),t.next=9,bn("launch",c);case 9:return r=t.sent,console.log("subscription",n),console.log("sender",e.sender),q.accountManager.useSubscription(n,e.sender),console.log("signer",q.accountManager.account.address),t.next=16,q.launch.send(e.address,R["c"].cidToHex(r));case 16:return a=t.sent,t.next=19,q.accountManager.signAndSend(a);case 19:i=t.sent,console.log(i),e.process=!1,e.message="Saved to block ".concat(i.blockNumber),t.next=30;break;case 25:t.prev=25,t.t0=t["catch"](4),console.log(t.t0),e.error=t.t0.message,e.process=!1;case 30:q.accountManager.setSender(n);case 31:case"end":return t.stop()}}),t,null,[[4,25]])})))()},addParam:function(){this.params.push({name:"",value:""})},removeParam:function(e){this.params.splice(e,1)},encrypt:function(e){var t=this.account.encryptMessage(e,Object(W["a"])(Object(qn["a"])(this.address)));return Object(W["a"])(t)}}};const Tc=j()(Bc,[["render",_c]]);var Sc=Tc,Ac={props:["address","sender"],components:{Launch:Sc}};n("4ed3"),n("9dcc");const Dc=j()(Ac,[["render",lc],["__scopeId","data-v-5c445850"]]);var Ec=Dc,Ic={data:function(){return{ha:"",owner:null,subscription:null,devices:[]}},computed:{validUntil:function(){if(null===this.subscription)return!1;var e=this.subscription.issueTime.toNumber(),t=0;return this.subscription.kind.isDaily&&(t=this.subscription.kind.value.days.toNumber()),e+864e5*t},isActive:function(){return!0}},created:function(){var e=this;q.accountManager.account&&(this.owner=q.accountManager.account.address,this.loadLadger(),this.loadDevices()),this.unsubscribe=q.accountManager.onChange((function(t){e.subscription=null,e.owner=t.address,e.loadLadger(),e.loadDevices()}))},unmounted:function(){this.unsubscribe&&this.unsubscribe()},methods:{loadLadger:function(){var e=this;return Object(a["a"])(Object(o["a"])().mark((function t(){var n;return Object(o["a"])().wrap((function(t){while(1)switch(t.prev=t.next){case 0:return t.next=2,q.rws.getLedger(e.owner);case 2:n=t.sent,n.isEmpty||(e.subscription=n.value);case 4:case"end":return t.stop()}}),t)})))()},loadDevices:function(){var e=this;return Object(a["a"])(Object(o["a"])().mark((function t(){var n;return Object(o["a"])().wrap((function(t){while(1)switch(t.prev=t.next){case 0:return t.next=2,q.rws.getDevices(e.owner);case 2:n=t.sent,e.devices=n.map((function(e){return{address:e.toHuman(),saved:!0}}));case 4:case"end":return t.stop()}}),t)})))()},launch:function(e){this.$vfm.show({component:Ec,bind:{address:this.ha,sender:e}})}}};const Pc=j()(Ic,[["render",ac]]);var Rc=Pc,Uc=Object(c["createTextVNode"])("SmartHome Telemetry"),zc={key:0},Mc={key:1},Lc=Object(c["createTextVNode"])(" Your secret key for decrypt message "),Fc={key:0},Hc={class:"table"},$c={style:{width:"150px"}},Wc={style:{width:"100%"}},Jc=["title"],Kc=["title"],Yc={style:{"max-height":"200px"}},qc={key:0},Gc={style:{width:"100px"}},Qc=Object(c["createTextVNode"])(" read "),Xc=Object(c["createTextVNode"])(" decrypt "),Zc={colspan:"3",style:{"text-align":"center"}},er=Object(c["createTextVNode"])(" Previous "),tr=Object(c["createTextVNode"])("   "),nr=Object(c["createTextVNode"])("   "),cr=Object(c["createTextVNode"])(" Next ");function rr(e,t,n,r,o,a){var i=Object(c["resolveComponent"])("robo-card-label-section"),u=Object(c["resolveComponent"])("robo-card-label"),s=Object(c["resolveComponent"])("robo-text"),l=Object(c["resolveComponent"])("robo-input"),b=Object(c["resolveComponent"])("robo-list-item"),d=Object(c["resolveComponent"])("robo-list"),O=Object(c["resolveComponent"])("robo-button"),j=Object(c["resolveComponent"])("Pagination"),p=Object(c["resolveComponent"])("robo-card-section"),f=Object(c["resolveComponent"])("robo-card"),m=Object(c["resolveComponent"])("robo-grid-item");return Object(c["openBlock"])(),Object(c["createBlock"])(m,null,{default:Object(c["withCtx"])((function(){return[Object(c["createVNode"])(f,{allowExpand:""},{default:Object(c["withCtx"])((function(){return[Object(c["createVNode"])(u,null,{default:Object(c["withCtx"])((function(){return[Object(c["createVNode"])(i,null,{default:Object(c["withCtx"])((function(){return[Uc]})),_:1})]})),_:1}),Object(c["createVNode"])(p,null,{default:Object(c["withCtx"])((function(){return[o.isLoad?(Object(c["openBlock"])(),Object(c["createElementBlock"])("div",zc,"...")):Object(c["createCommentVNode"])("",!0),o.log.length?(Object(c["openBlock"])(),Object(c["createElementBlock"])("div",Mc,[Object(c["createVNode"])(d,{gap:"x2",fullLine:""},{default:Object(c["withCtx"])((function(){return[Object(c["createVNode"])(b,null,{default:Object(c["withCtx"])((function(){return[Object(c["createVNode"])(s,{weight:"light"},{default:Object(c["withCtx"])((function(){return[Lc]})),_:1}),Object(c["createVNode"])(l,{modelValue:o.uri,"onUpdate:modelValue":t[0]||(t[0]=function(e){return o.uri=e}),type:"password"},null,8,["modelValue"]),a.validateUri?Object(c["createCommentVNode"])("",!0):(Object(c["openBlock"])(),Object(c["createElementBlock"])("div",Fc,"Input your secret key"))]})),_:1})]})),_:1}),Object(c["createElementVNode"])("table",Hc,[Object(c["createVNode"])(j,{size:5,listData:o.log,currentPage:o.currentPage},{default:Object(c["withCtx"])((function(e){return[Object(c["createElementVNode"])("tr",null,[Object(c["createElementVNode"])("td",$c,Object(c["toDisplayString"])(e.item.time),1),Object(c["createElementVNode"])("td",Wc,[null===e.item.crypt?(Object(c["openBlock"])(),Object(c["createElementBlock"])("div",{key:0,title:e.item.data},Object(c["toDisplayString"])(e.item.data.substr(0,5))+"..."+Object(c["toDisplayString"])(e.item.data.substr(-5)),9,Jc)):Object(c["createCommentVNode"])("",!0),e.item.crypt&&null===e.item.decrypt?(Object(c["openBlock"])(),Object(c["createElementBlock"])("div",{key:1,title:e.item.crypt},Object(c["toDisplayString"])(e.item.crypt.substr(0,5))+"..."+Object(c["toDisplayString"])(e.item.crypt.substr(-5)),9,Kc)):Object(c["createCommentVNode"])("",!0),Object(c["createElementVNode"])("pre",Yc,[e.item.decrypt?(Object(c["openBlock"])(),Object(c["createElementBlock"])("code",qc," "+Object(c["toDisplayString"])(e.item.decrypt)+" ",1)):Object(c["createCommentVNode"])("",!0)])]),Object(c["createElementVNode"])("td",Gc,[null===e.item.crypt&&"Qm"===e.item.data.substr(0,2)?(Object(c["openBlock"])(),Object(c["createBlock"])(O,{key:0,onClick:function(t){return a.readByIndex(e.item.id)},disabled:e.item.load,loading:e.item.load},{default:Object(c["withCtx"])((function(){return[Qc]})),_:2},1032,["onClick","disabled","loading"])):Object(c["createCommentVNode"])("",!0),e.item.crypt&&null===e.item.decrypt?(Object(c["openBlock"])(),Object(c["createBlock"])(O,{key:1,onClick:function(t){return a.decryptByIndex(e.item.id)},disabled:!a.validateUri},{default:Object(c["withCtx"])((function(){return[Xc]})),_:2},1032,["onClick","disabled"])):Object(c["createCommentVNode"])("",!0)])])]})),pagination:Object(c["withCtx"])((function(e){return[Object(c["createElementVNode"])("tr",null,[Object(c["createElementVNode"])("td",Zc,[Object(c["createVNode"])(O,{disabled:0===e.pageNumber,onClick:a.prevPage},{default:Object(c["withCtx"])((function(){return[er]})),_:2},1032,["disabled","onClick"]),tr,Object(c["createElementVNode"])("b",null,Object(c["toDisplayString"])(e.pageCount>0?e.pageNumber+1:0)+" / "+Object(c["toDisplayString"])(e.pageCount),1),nr,Object(c["createVNode"])(O,{disabled:e.pageNumber>=e.pageCount-1,onClick:a.nextPage},{default:Object(c["withCtx"])((function(){return[cr]})),_:2},1032,["disabled","onClick"])])])]})),_:1},8,["listData","currentPage"])])])):Object(c["createCommentVNode"])("",!0)]})),_:1})]})),_:1})]})),_:1})}n("159b");function or(e,t,n,r,o,a){return Object(c["openBlock"])(),Object(c["createElementBlock"])(c["Fragment"],null,[(Object(c["openBlock"])(!0),Object(c["createElementBlock"])(c["Fragment"],null,Object(c["renderList"])(a.paginatedData,(function(t,n){return Object(c["renderSlot"])(e.$slots,"default",{key:n,item:t,index:n})})),128)),Object(c["renderSlot"])(e.$slots,"pagination",Object(c["normalizeProps"])(Object(c["guardReactiveProps"])({pageNumber:o.pageNumber,pageCount:a.pageCount})))],64)}var ar={props:{listData:{type:Array,required:!0},currentPage:{type:Number,required:!1,default:0},size:{type:Number,required:!1,default:1}},data:function(){return{pageNumber:this.currentPage}},watch:{currentPage:function(e){this.pageNumber=e}},computed:{pageCount:function(){var e=this.listData.length,t=this.size;return Math.ceil(e/t)},paginatedData:function(){var e=this.pageNumber*this.size,t=e+this.size;return this.listData.slice(e,t)}}};const ir=j()(ar,[["render",or]]);var ur=ir,sr={components:{Pagination:ur},props:["address"],data:function(){return{isLoad:!1,log:[],uri:"",currentPage:0,unsubscribe:null}},watch:{address:function(){this.read()}},created:function(){var e=this;return Object(a["a"])(Object(o["a"])().mark((function t(){return Object(o["a"])().wrap((function(t){while(1)switch(t.prev=t.next){case 0:return t.next=2,e.read();case 2:return t.next=4,q.datalog.on({},(function(t){t.filter((function(t){return t.account.toHuman()===e.address})).forEach((function(t){e.log.unshift({time:new Date(t.moment.toNumber()).toLocaleString(),data:t.data.toHuman(),crypt:null,decrypt:null,load:!1,id:e.log.length+2})}))}));case 4:e.unsubscribe=t.sent;case 5:case"end":return t.stop()}}),t)})))()},unmounted:function(){this.unsubscribe&&this.unsubscribe()},computed:{account:function(){if(this.uri)try{var e=new $n["a"],t=e.addFromUri(this.uri,{},"ed25519");if(Object(Yn["a"])(this.address)===Object(Yn["a"])(t.address))return t;var n=e.addFromUri(this.uri,{},"sr25519");return Object(Yn["a"])(this.address)===Object(Yn["a"])(n.address)?n:t}catch(c){console.log(c)}return null},validateUri:function(){return!(!this.account||Object(Yn["a"])(this.address)!==Object(Yn["a"])(this.account.address))}},methods:{nextPage:function(){this.currentPage++},prevPage:function(){this.currentPage--},handlePage:function(e){this.currentPage=e},read:function(){var e=this;return Object(a["a"])(Object(o["a"])().mark((function t(){var n;return Object(o["a"])().wrap((function(t){while(1)switch(t.prev=t.next){case 0:return e.isLoad=!0,t.next=3,q.datalog.read(e.address);case 3:n=t.sent,e.log=n.reverse().map((function(e,t){return{time:new Date(e[0].toNumber()).toLocaleString(),data:e[1].toHuman(),crypt:null,decrypt:null,load:!1,id:t}})),e.isLoad=!1;case 6:case"end":return t.stop()}}),t)})))()},readByIndex:function(e){var t=this;return Object(a["a"])(Object(o["a"])().mark((function n(){var c;return Object(o["a"])().wrap((function(n){while(1)switch(n.prev=n.next){case 0:return c=t.log.findIndex((function(t){return t.id===e})),t.log[c].load=!0,n.prev=2,n.next=5,On(t.log[c].data);case 5:t.log[c].crypt=n.sent,t.log[c].load=!1,n.next=13;break;case 9:n.prev=9,n.t0=n["catch"](2),console.log(n.t0),t.readByIndex(c);case 13:case"end":return n.stop()}}),n,null,[[2,9]])})))()},decryptByIndex:function(e){var t=this.log.findIndex((function(t){return t.id===e}));try{var n=this.decrypt(this.log[t].crypt);try{this.log[t].decrypt=JSON.stringify(JSON.parse(n),null,4)}catch(c){console.log(c),this.log[t].decrypt=n}}catch(c){console.log(c)}},decrypt:function(e){var t=this.account.decryptMessage(e,this.account.publicKey);return Object(Jn["a"])(t)}}};n("359e");const lr=j()(sr,[["render",rr],["__scopeId","data-v-a4a704fe"]]);var br=lr,dr=[{path:"/",name:"dashboard",component:Fe,meta:{breadcrumbs:[{text:"Dashboard",active:!0}],title:"Dashboard",description:""}},{path:"/subscription",name:"subscription-bid",component:it,meta:{breadcrumbs:[{text:"Subscription",active:!0}],title:"New subscription",description:""}},{path:"/subscription/devices",name:"subscription-devices",component:_t,meta:{breadcrumbs:[{text:"Subscription",active:!0}],title:"Subscription",description:""}},{path:"/services",name:"services",component:Ht,meta:{breadcrumbs:[{text:"Services",active:!0}],title:"Services",description:""}},{path:"/lights-up",name:"lights-up",component:hn,meta:{breadcrumbs:[{text:"Services",href:"/#/services"},{text:"Lights up",active:!0}],title:"Lights up!",description:"Set color for smart lamp via Robonomics Subscription - Decentrilized IoT cloud alternative."}},{path:"/home-assistant",name:"home-assistant-account",component:Xn,meta:{breadcrumbs:[{text:"Services",href:"/#/services"},{text:"Home Assistant Account",active:!0}],title:"Home Assistant account",description:"Get Home Assistant account for Robonomics Parachain usage"}},{path:"/smarthome-telemetry",name:"smarthome-telemetry",component:Rc,meta:{breadcrumbs:[{text:"Services",href:"/#/services"},{text:"SmartHome Telemetry",active:!0}],title:"SmartHome Telemetry",description:"Recieve and decrypt the telemetry from your smart home IoT devices"}},{path:"/smarthome-telemetry/datalog/:address",name:"smarthome-telemetry-datalog",component:br,props:!0,meta:{breadcrumbs:[{text:"Services",href:"/#/services"},{text:"SmartHome Telemetry",active:!0}],title:"SmartHome Telemetry",description:"Recieve and decrypt the telemetry from your smart home IoT devices"}}],Or=Object(me["a"])({history:Object(me["b"])(),routes:dr}),jr=Or,pr=Object(Hn["a"])({state:{name:"Vue"}}),fr=pr,mr=n("c210"),hr=(n("d932"),n("43df")),vr=Object(c["createApp"])(fe);vr.config.globalProperties.$apptextSubscriptionInfo="The Robonomics RWS subscription lets you interact with smart devices and robots through the Robonomics parachain instead of centralized cloud services and providers.",vr.use(jr).use(fr).use(mr["robonomicsUI"],{store:fr}).use(pn).use(hr["a"]).mount("#app")},6:function(e,t){},7:function(e,t){},8:function(e,t){},9:function(e,t){},"9dcc":function(e,t,n){"use strict";n("a97b")},a97b:function(e,t,n){}});
//# sourceMappingURL=app.ff0e0751.js.map