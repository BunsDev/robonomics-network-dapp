{"version":3,"sources":["webpack:///./node_modules/core-js/modules/es.array.at.js","webpack:///./src/services/fuji/components/Page.vue?0eea","webpack:///./src/services/fuji/components/SensorFree.vue?d306","webpack:///./src/services/fuji/components/Pagination.vue?2c26","webpack:///src/services/sensor/components/Pagination.vue","webpack:///./src/services/fuji/components/Pagination.vue?9b9c","webpack:///./src/services/fuji/components/Pagination.vue","webpack:///./src/services/fuji/components/MessageFree.vue?4995","webpack:///./src/services/fuji/components/MessageShare.vue?b2f4","webpack:///./src/services/fuji/utils/storage.js","webpack:///./src/services/fuji/components/Modal.vue?fd6c","webpack:///src/services/fuji/components/Modal.vue","webpack:///./src/services/fuji/components/Modal.vue?99c1","webpack:///./src/services/fuji/components/Modal.vue?5895","webpack:///src/services/fuji/components/MessageShare.vue","webpack:///./src/services/fuji/components/MessageShare.vue?fcf9","webpack:///./src/services/fuji/components/MessageShare.vue","webpack:///src/services/fuji/components/MessageFree.vue","webpack:///./src/services/fuji/components/MessageFree.vue?5407","webpack:///./src/services/fuji/components/MessageFree.vue","webpack:///./src/services/fuji/utils/utils.js","webpack:///src/services/fuji/components/SensorFree.vue","webpack:///./src/services/fuji/components/SensorFree.vue?450e","webpack:///./src/services/fuji/components/SensorFree.vue","webpack:///./src/services/fuji/components/SensorCost.vue?21c0","webpack:///./src/services/fuji/components/MessageCost.vue?d3a7","webpack:///src/services/sensor/components/MessageCost.vue","webpack:///./src/services/fuji/components/MessageCost.vue?883a","webpack:///./src/services/fuji/components/MessageCost.vue","webpack:///src/services/sensor/components/SensorCost.vue","webpack:///./src/services/fuji/components/SensorCost.vue?8984","webpack:///./src/services/fuji/components/SensorCost.vue","webpack:///./src/services/fuji/components/SensorResult.vue?e018","webpack:///src/services/fuji/components/SensorResult.vue","webpack:///./src/services/fuji/components/SensorResult.vue?e92b","webpack:///./src/services/fuji/components/SensorResult.vue","webpack:///./src/services/fuji/components/SensorResultSubstrate.vue?bd74","webpack:///src/services/fuji/components/SensorResultSubstrate.vue","webpack:///./src/services/fuji/components/SensorResultSubstrate.vue?18f6","webpack:///./src/services/fuji/components/SensorResultSubstrate.vue","webpack:///src/services/fuji/components/Page.vue","webpack:///./src/services/fuji/components/Page.vue?5504","webpack:///./src/services/fuji/components/Page.vue","webpack:///./src/services/fuji/components/Modal.vue?5de7","webpack:///./node_modules/core-js/modules/es.string.at-alternative.js"],"names":["$","toObject","lengthOfArrayLike","toIntegerOrInfinity","addToUnscopables","target","proto","at","index","O","this","len","relativeIndex","k","undefined","render","_vm","_h","$createElement","_c","_self","staticClass","_v","_s","$t","nameModel","miniAddrAgent","attrs","lighthouse","model","agent","result","_e","substrateBlock","substrateTx","cost","token","staticRenderFns","log","length","create_time","$robonomics","nativeOn","$event","hadlerSend","staticStyle","error","slot","clear","apply","arguments","currentPage","on","handlePage","scopedSlots","_u","key","fn","props","item","_l","_t","pageNumber","prevPage","pageCount","nextPage","listData","type","Array","required","Number","default","size","data","watch","newVal","computed","Math","ceil","l","s","paginatedData","slice","start","end","methods","$emit","component","status","resultHash","directives","name","rawName","value","expression","arg","JSON","stringify","getLink","getLinkTwitter","substrateBlockHash","sendSubstrate","_m","substrateTxHash","Storage","items","localStorage","getItem","parse","id","getItems","saveItems","setItem","removeItem","$$selectedVal","prototype","filter","call","options","o","selected","map","val","_value","multiple","option","domProps","address","meta","isWork","send","created","accounts","onSend","storage","getDescription","findId","keys","upadte","update_time","Date","toLocaleString","addItem","components","parseResult","topics","axios","get","config","IPFS_GATEWAY","then","console","tools","cat","r","message","rosBag","Blob","bag","loadScript","src","Promise","resolve","reject","script","document","createElement","onload","onerror","body","appendChild","Pagination","Message","ready","isRequest","account","robonomics","mounted","messenger","stop","initLighthouse","msg","liability","sender","upLog","removing","Object","values","reverse","add","now","page","sendMsgDemand","web3","eth","getBlock","objective","validator","validatorFee","deadline","number","time","tokenAddress","factory","myAllowance","mixins","Approve","watchToken","response","allowance","init","Page","SensorFree","SensorCost","SensorResult","SensorResultSubstrate","hasOwnProperty","uncurryThis","requireObjectCoercible","toString","fails","charAt","FORCED","forced","S"],"mappings":"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","file":"js/chunk-5d05472f.401dae99.js","sourcesContent":["'use strict';\nvar $ = require('../internals/export');\nvar toObject = require('../internals/to-object');\nvar lengthOfArrayLike = require('../internals/length-of-array-like');\nvar toIntegerOrInfinity = require('../internals/to-integer-or-infinity');\nvar addToUnscopables = require('../internals/add-to-unscopables');\n\n// `Array.prototype.at` method\n// https://github.com/tc39/proposal-relative-indexing-method\n$({ target: 'Array', proto: true }, {\n  at: function at(index) {\n    var O = toObject(this);\n    var len = lengthOfArrayLike(O);\n    var relativeIndex = toIntegerOrInfinity(index);\n    var k = relativeIndex >= 0 ? relativeIndex : len + relativeIndex;\n    return (k < 0 || k >= len) ? undefined : O[k];\n  }\n});\n\naddToUnscopables('at');\n","var render = function () {var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;return _c('Page',[_c('section',[_c('h2',{staticClass:\"breadcrumbs m-b-0\"},[_c('span',[_c('span',{staticClass:\"i-signal m-r-10\"}),_c('span',[_vm._v(_vm._s(_vm.$t(\"sensors.title\")))])]),_c('i',[_vm._v(\"/\")]),_c('span',[_vm._v(_vm._s(_vm.nameModel)+\" \"+_vm._s(_vm.miniAddrAgent))])]),_c('modals-container'),(_vm.result)?_c('SensorResult',{attrs:{\"lighthouse\":_vm.lighthouse,\"model\":_vm.model,\"agent\":_vm.agent,\"result\":_vm.result}}):_vm._e(),(_vm.substrateBlock)?_c('SensorResultSubstrate',{attrs:{\"lighthouse\":_vm.lighthouse,\"model\":_vm.model,\"agent\":_vm.agent,\"substrateBlock\":_vm.substrateBlock,\"substrateTx\":_vm.substrateTx}}):(_vm.cost > 0)?_c('SensorCost',{attrs:{\"lighthouse\":_vm.lighthouse,\"model\":_vm.model,\"agent\":_vm.agent,\"tokenAddress\":_vm.token,\"cost\":_vm.cost}}):_c('SensorFree',{attrs:{\"lighthouse\":_vm.lighthouse,\"model\":_vm.model,\"agent\":_vm.agent,\"result\":_vm.result}})],1)])}\nvar staticRenderFns = []\n\nexport { render, staticRenderFns }","var render = function () {var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;return _c('div',[(_vm.ready)?_c('div',[_c('h4',[_vm._v(\" \"+_vm._s(_vm.$t(\"sensor.statusAgent\"))+\": \"),(_vm.log.length === 0)?[_vm._v(_vm._s(_vm.$t(\"sensor.notStatusAgent\")))]:[_vm._v(\" \"+_vm._s(_vm.$t(\"sensor.yesStatusAgent\"))+\" \"+_vm._s(_vm.log[_vm.log.length - 1].create_time)+\" \")]],2),_c('section',[_c('div',[_vm._v(\" \"+_vm._s(_vm.$t(\"sensor.isRequest\"))+\": \"),(_vm.$robonomics.account)?[(_vm.isRequest)?_c('RButton',{attrs:{\"color\":\"green\",\"disabled\":\"\"}},[_vm._v(\" Sign with ethereum account \")]):_c('RButton',{attrs:{\"color\":\"green\"},nativeOn:{\"click\":function($event){return _vm.hadlerSend('eth')}}},[_vm._v(\" Sign with ethereum account \")])]:[_c('RButton',{attrs:{\"color\":\"green\",\"disabled\":\"\"}},[_vm._v(\" Sign with ethereum account \")])],_vm._v(\"     \"),(_vm.robonomics)?[(_vm.isRequest)?_c('RButton',{attrs:{\"color\":\"green\",\"disabled\":\"\"}},[_vm._v(\" Sign with substrate account \")]):_c('RButton',{attrs:{\"color\":\"green\"},nativeOn:{\"click\":function($event){return _vm.hadlerSend('substrate')}}},[_vm._v(\" Sign with substrate account \")])]:[_c('RButton',{attrs:{\"color\":\"green\",\"disabled\":\"\"}},[_vm._v(\" Sign with substrate account \")])]],2)]),(_vm.error)?_c('div',{staticClass:\"red\",staticStyle:{\"margin\":\"20px 0\"}},[_vm._v(_vm._s(_vm.error))]):_vm._e(),(_vm.log.length > 0)?_c('RWindow',{attrs:{\"id\":\"window-sensornetwork-requests\"}},[_c('template',{slot:\"header\"},[_c('span',[_vm._v(\" \"+_vm._s(_vm.$t(\"sensor.requests\"))+\" (\"+_vm._s(_vm.log.length)+\") \"),_c('RButton',{staticStyle:{\"background\":\"none\",\"color\":\"#03a5ed\",\"border\":\"2px solid #03a5ed\",\"padding-top\":\"2px\",\"padding-bottom\":\"2px\",\"margin-left\":\"15px\"},nativeOn:{\"click\":function($event){return _vm.clear.apply(null, arguments)}}},[_vm._v(_vm._s(_vm.$t(\"sensor.clear\")))])],1)]),_c('Pagination',{attrs:{\"listData\":_vm.log,\"currentPage\":_vm.currentPage},on:{\"on-page\":_vm.handlePage},scopedSlots:_vm._u([{key:\"default\",fn:function(props){return [_c('RCard',[_c('Message',{attrs:{\"item\":props.item,\"lighthouse\":_vm.lighthouse,\"model\":_vm.model,\"agent\":_vm.agent}})],1)]}}],null,false,2391056252)})],2):_vm._e()],1):_vm._e()])}\nvar staticRenderFns = []\n\nexport { render, staticRenderFns }","var render = function () {var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;return _c('div',[_vm._l((_vm.paginatedData),function(item,key){return _c('div',{key:key},[_vm._t(\"default\",null,{\"item\":item})],2)}),_c('button',{attrs:{\"disabled\":_vm.pageNumber === 0},on:{\"click\":_vm.prevPage}},[_vm._v(\"Previous\")]),_c('button',{staticClass:\"m-l-15\",attrs:{\"disabled\":_vm.pageNumber >= _vm.pageCount - 1},on:{\"click\":_vm.nextPage}},[_vm._v(\" Next \")])],2)}\nvar staticRenderFns = []\n\nexport { render, staticRenderFns }","<template>\n  <div>\n    <div v-for=\"(item, key) in paginatedData\" :key=\"key\">\n      <slot v-bind:item=\"item\" />\n    </div>\n    <button :disabled=\"pageNumber === 0\" @click=\"prevPage\">Previous</button>\n    <button\n      class=\"m-l-15\"\n      :disabled=\"pageNumber >= pageCount - 1\"\n      @click=\"nextPage\"\n    >\n      Next\n    </button>\n  </div>\n</template>\n\n<script>\nexport default {\n  props: {\n    listData: {\n      type: Array,\n      required: true\n    },\n    currentPage: {\n      type: Number,\n      required: false,\n      default: 0\n    },\n    size: {\n      type: Number,\n      required: false,\n      default: 1\n    }\n  },\n  data() {\n    return {\n      pageNumber: this.currentPage\n    };\n  },\n  watch: {\n    currentPage: function (newVal) {\n      this.pageNumber = newVal;\n    }\n  },\n  computed: {\n    pageCount() {\n      let l = this.listData.length,\n        s = this.size;\n      return Math.ceil(l / s);\n    },\n    paginatedData() {\n      const start = this.pageNumber * this.size,\n        end = start + this.size;\n      return this.listData.slice(start, end);\n    }\n  },\n  methods: {\n    nextPage() {\n      this.pageNumber++;\n      this.$emit(\"on-page\", this.pageNumber);\n    },\n    prevPage() {\n      this.pageNumber--;\n      this.$emit(\"on-page\", this.pageNumber);\n    }\n  }\n};\n</script>\n","import mod from \"-!../../../../node_modules/cache-loader/dist/cjs.js??ref--13-0!../../../../node_modules/thread-loader/dist/cjs.js!../../../../node_modules/babel-loader/lib/index.js!../../../../node_modules/cache-loader/dist/cjs.js??ref--1-0!../../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./Pagination.vue?vue&type=script&lang=js&\"; export default mod; export * from \"-!../../../../node_modules/cache-loader/dist/cjs.js??ref--13-0!../../../../node_modules/thread-loader/dist/cjs.js!../../../../node_modules/babel-loader/lib/index.js!../../../../node_modules/cache-loader/dist/cjs.js??ref--1-0!../../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./Pagination.vue?vue&type=script&lang=js&\"","import { render, staticRenderFns } from \"./Pagination.vue?vue&type=template&id=2c65017f&\"\nimport script from \"./Pagination.vue?vue&type=script&lang=js&\"\nexport * from \"./Pagination.vue?vue&type=script&lang=js&\"\n\n\n/* normalize component */\nimport normalizer from \"!../../../../node_modules/vue-loader/lib/runtime/componentNormalizer.js\"\nvar component = normalizer(\n  script,\n  render,\n  staticRenderFns,\n  false,\n  null,\n  null,\n  null\n  \n)\n\nexport default component.exports","var render = function () {var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;return _c('div',[(_vm.item.create_time)?_c('h3',[_vm._v(\" \"+_vm._s(_vm.$t(\"sensor.requestAt\"))+\" \"+_vm._s(_vm.item.create_time)+\" \")]):_vm._e(),(_vm.item.status === 1)?_c('div',{staticClass:\"animation-fadein\"},[_c('p',[_c('span',{staticClass:\"loader-ring align-vertical m-r-15\"}),_c('b',{staticClass:\"align-vertical\"},[_vm._v(\"1. \"+_vm._s(_vm.$t(\"sensor.free.status1\")))])])]):(_vm.item.status === 2)?_c('div',[_c('p',[_c('b',{staticClass:\"align-vertical\"},[_vm._v(\"1. \"+_vm._s(_vm.$t(\"sensor.free.status21\")))]),_c('br'),_c('span',[_vm._v(_vm._s(_vm.$t(\"sensor.cost.hash\"))+\":\")]),_c('br'),_c('RIpfsExplorer',{attrs:{\"hash\":_vm.item.resultHash,\"classStyle\":\"align-vertical\"}}),_c('a',{directives:[{name:\"clipboard\",rawName:\"v-clipboard:copy\",value:(_vm.item.resultHash),expression:\"item.resultHash\",arg:\"copy\"}],staticClass:\"align-vertical i-copy m-l-10\",attrs:{\"href\":\"javascript:;\",\"title\":\"copy to clipboard\"}})],1),_c('p',[_c('span',{staticClass:\"loader-ring align-vertical m-r-15\"}),_c('b',{staticClass:\"align-vertical\"},[_vm._v(\"2. \"+_vm._s(_vm.$t(\"sensor.free.status22\")))])]),_c('MessageShare',{attrs:{\"item\":_vm.item,\"lighthouse\":_vm.lighthouse,\"model\":_vm.model,\"agent\":_vm.agent,\"isSubstrate\":true}})],1):(_vm.item.status === 3)?_c('div',[_c('p',[_c('b',{staticClass:\"align-vertical\"},[_vm._v(\"1. \"+_vm._s(_vm.$t(\"sensor.free.status31\")))]),_c('br'),_c('span',[_vm._v(_vm._s(_vm.$t(\"sensor.cost.hash\"))+\":\")]),_c('br'),_c('RIpfsExplorer',{attrs:{\"hash\":_vm.item.resultHash,\"classStyle\":\"align-vertical\"}}),_c('a',{directives:[{name:\"clipboard\",rawName:\"v-clipboard:copy\",value:(_vm.item.resultHash),expression:\"item.resultHash\",arg:\"copy\"}],staticClass:\"align-vertical i-copy m-l-10\",attrs:{\"href\":\"javascript:;\",\"title\":\"copy to clipboard\"}})],1),_c('p',[_c('b',{staticClass:\"align-vertical\"},[_vm._v(\"2. \"+_vm._s(_vm.$t(\"sensor.free.status32\")))]),_c('a',{directives:[{name:\"clipboard\",rawName:\"v-clipboard:copy\",value:(JSON.stringify(_vm.item.result)),expression:\"JSON.stringify(item.result)\",arg:\"copy\"}],staticClass:\"align-vertical i-copy m-l-10\",attrs:{\"href\":\"javascript:;\",\"title\":\"copy to clipboard\"}}),_c('br'),_c('code',[_c('pre',[_vm._v(_vm._s(_vm.item.result))])])]),_c('MessageShare',{attrs:{\"item\":_vm.item,\"lighthouse\":_vm.lighthouse,\"model\":_vm.model,\"agent\":_vm.agent,\"isSubstrate\":true}})],1):_vm._e()])}\nvar staticRenderFns = []\n\nexport { render, staticRenderFns }","var render = function () {var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;return _c('p',{staticClass:\"icons-line\"},[_c('span',{staticStyle:{\"vertical-align\":\"middle\",\"width\":\"24px\",\"display\":\"inline-block\",\"height\":\"24px\",\"background\":\"url(img/ipfs.png) 0% 0% / 24px no-repeat\"}}),_c('a',{directives:[{name:\"clipboard\",rawName:\"v-clipboard:copy\",value:(_vm.getLink('ipfs', _vm.item.resultHash)),expression:\"getLink('ipfs', item.resultHash)\",arg:\"copy\"}],staticClass:\"i-share\",attrs:{\"href\":\"javascript:;\",\"title\":\"copy to clipboard\"}}),_c('a',{staticClass:\"i-twitter\",attrs:{\"href\":_vm.getLinkTwitter('ipfs', _vm.item.resultHash),\"target\":\"_blank\"}}),(_vm.isSubstrate)?[_c('span',{staticStyle:{\"margin-left\":\"20px\"}},[_vm._v(\"|\")]),(_vm.substrateBlockHash == '')?[(_vm.substrateBlockHash == '')?_c('a',{staticStyle:{\"width\":\"24px\",\"display\":\"inline-block\",\"height\":\"24px\",\"background\":\"url(img/substrate.png) 0% 0% / 24px no-repeat\"},attrs:{\"href\":\"javascript:;\"},on:{\"click\":function($event){return _vm.sendSubstrate(_vm.item.resultHash)}}}):_vm._e(),_vm._m(0)]:[_c('span',{staticStyle:{\"vertical-align\":\"middle\",\"margin-left\":\"20px\",\"width\":\"24px\",\"display\":\"inline-block\",\"height\":\"24px\",\"background\":\"url(img/substrate.png) 0% 0% / 24px no-repeat\"}}),_c('span',{staticStyle:{\"margin-left\":\"20px\"}},[_c('a',{directives:[{name:\"clipboard\",rawName:\"v-clipboard:copy\",value:(\n            _vm.getLink('substrate', _vm.substrateBlockHash, _vm.substrateTxHash)\n          ),expression:\"\\n            getLink('substrate', substrateBlockHash, substrateTxHash)\\n          \",arg:\"copy\"}],staticClass:\"i-share\",attrs:{\"href\":\"javascript:;\",\"title\":\"copy to clipboard\"}}),_c('a',{staticClass:\"i-twitter\",attrs:{\"href\":_vm.getLinkTwitter('substrate', _vm.substrateBlockHash, _vm.substrateTxHash),\"target\":\"_blank\"}})])]]:_vm._e()],2)}\nvar staticRenderFns = [function () {var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;return _c('span',{staticClass:\"disabled\",staticStyle:{\"margin-left\":\"20px\"}},[_c('a',{staticClass:\"i-share\",attrs:{\"href\":\"\"}}),_c('a',{staticClass:\"i-twitter\",attrs:{\"href\":\"\"}})])}]\n\nexport { render, staticRenderFns }","export default class Storage {\n  constructor(name) {\n    this.name = name;\n  }\n  getItems() {\n    const items = localStorage.getItem(this.name);\n    if (items) {\n      return JSON.parse(items);\n    }\n    return {};\n  }\n  addItem(id, item) {\n    const items = this.getItems();\n    items[id] = item;\n    this.saveItems(items);\n  }\n  saveItems(items) {\n    localStorage.setItem(this.name, JSON.stringify(items));\n  }\n  clear() {\n    localStorage.removeItem(this.name);\n  }\n}\n","var render = function () {var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;return _c('div',{staticClass:\"modal-wrapper\"},[_c('h2',[_vm._v(\"Accounts\")]),_c('div',{staticClass:\"modal-content\"},[_c('div',{staticClass:\"item\"},[_c('select',{directives:[{name:\"model\",rawName:\"v-model\",value:(_vm.selected),expression:\"selected\"}],on:{\"change\":function($event){var $$selectedVal = Array.prototype.filter.call($event.target.options,function(o){return o.selected}).map(function(o){var val = \"_value\" in o ? o._value : o.value;return val}); _vm.selected=$event.target.multiple ? $$selectedVal : $$selectedVal[0]}}},_vm._l((_vm.accounts),function(option,key){return _c('option',{key:key,domProps:{\"value\":option.address}},[_vm._v(\" \"+_vm._s(option.meta.name)+\" \")])}),0)]),_c('div',{staticClass:\"item\"},[_c('button',{attrs:{\"disabled\":_vm.isWork},on:{\"click\":_vm.send}},[(_vm.isWork)?_c('div',{staticClass:\"loader-ring\"}):_vm._e(),_vm._v(\"  \"+_vm._s(_vm.$t(\"sensor.modalBtn\"))+\" \")])])])])}\nvar staticRenderFns = []\n\nexport { render, staticRenderFns }","<template>\n  <div class=\"modal-wrapper\">\n    <h2>Accounts</h2>\n    <div class=\"modal-content\">\n      <div class=\"item\">\n        <select v-model=\"selected\">\n          <option\n            v-for=\"(option, key) in accounts\"\n            :value=\"option.address\"\n            :key=\"key\"\n          >\n            {{ option.meta.name }}\n          </option>\n        </select>\n      </div>\n      <div class=\"item\">\n        <button @click=\"send\" :disabled=\"isWork\">\n          <div class=\"loader-ring\" v-if=\"isWork\"></div>\n          &nbsp;{{ $t(\"sensor.modalBtn\") }}\n        </button>\n      </div>\n    </div>\n  </div>\n</template>\n\n<script>\nexport default {\n  props: [\"accounts\", \"onSend\"],\n  data() {\n    return {\n      selected: null,\n      isWork: false\n    };\n  },\n  created() {\n    if (this.accounts.length > 0) {\n      this.selected = this.accounts[0].address;\n    }\n  },\n  methods: {\n    send() {\n      this.isWork = true;\n      this.onSend(this.selected);\n    }\n  }\n};\n</script>\n\n<style scoped>\n.modal-wrapper {\n  padding: 20px;\n  height: 100%;\n}\n.modal-wrapper h2 {\n  text-align: center;\n}\n.modal-content {\n  font-size: 16px;\n  /* height: 100%; */\n  display: flex;\n  justify-content: center;\n  align-items: center;\n  align-content: center;\n}\n.item {\n  margin: 10px;\n}\n</style>\n","import mod from \"-!../../../../node_modules/cache-loader/dist/cjs.js??ref--13-0!../../../../node_modules/thread-loader/dist/cjs.js!../../../../node_modules/babel-loader/lib/index.js!../../../../node_modules/cache-loader/dist/cjs.js??ref--1-0!../../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./Modal.vue?vue&type=script&lang=js&\"; export default mod; export * from \"-!../../../../node_modules/cache-loader/dist/cjs.js??ref--13-0!../../../../node_modules/thread-loader/dist/cjs.js!../../../../node_modules/babel-loader/lib/index.js!../../../../node_modules/cache-loader/dist/cjs.js??ref--1-0!../../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./Modal.vue?vue&type=script&lang=js&\"","import { render, staticRenderFns } from \"./Modal.vue?vue&type=template&id=0b63204b&scoped=true&\"\nimport script from \"./Modal.vue?vue&type=script&lang=js&\"\nexport * from \"./Modal.vue?vue&type=script&lang=js&\"\nimport style0 from \"./Modal.vue?vue&type=style&index=0&id=0b63204b&scoped=true&lang=css&\"\n\n\n/* normalize component */\nimport normalizer from \"!../../../../node_modules/vue-loader/lib/runtime/componentNormalizer.js\"\nvar component = normalizer(\n  script,\n  render,\n  staticRenderFns,\n  false,\n  null,\n  \"0b63204b\",\n  null\n  \n)\n\nexport default component.exports","<template>\n  <p class=\"icons-line\">\n    <span\n      style=\"\n        vertical-align: middle;\n        width: 24px;\n        display: inline-block;\n        height: 24px;\n        background: url(img/ipfs.png) 0% 0% / 24px no-repeat;\n      \"\n    ></span>\n    <a\n      class=\"i-share\"\n      href=\"javascript:;\"\n      title=\"copy to clipboard\"\n      v-clipboard:copy=\"getLink('ipfs', item.resultHash)\"\n    ></a>\n    <a\n      class=\"i-twitter\"\n      :href=\"getLinkTwitter('ipfs', item.resultHash)\"\n      target=\"_blank\"\n    ></a>\n    <template v-if=\"isSubstrate\">\n      <span style=\"margin-left: 20px\">|</span>\n      <template v-if=\"substrateBlockHash == ''\">\n        <a\n          v-if=\"substrateBlockHash == ''\"\n          href=\"javascript:;\"\n          @click=\"sendSubstrate(item.resultHash)\"\n          style=\"\n            width: 24px;\n            display: inline-block;\n            height: 24px;\n            background: url(img/substrate.png) 0% 0% / 24px no-repeat;\n          \"\n        ></a>\n        <span class=\"disabled\" style=\"margin-left: 20px\">\n          <a class=\"i-share\" href></a>\n          <a class=\"i-twitter\" href></a>\n        </span>\n      </template>\n      <template v-else>\n        <span\n          style=\"\n            vertical-align: middle;\n            margin-left: 20px;\n            width: 24px;\n            display: inline-block;\n            height: 24px;\n            background: url(img/substrate.png) 0% 0% / 24px no-repeat;\n          \"\n        ></span>\n        <span style=\"margin-left: 20px\">\n          <a\n            class=\"i-share\"\n            href=\"javascript:;\"\n            title=\"copy to clipboard\"\n            v-clipboard:copy=\"\n              getLink('substrate', substrateBlockHash, substrateTxHash)\n            \"\n          ></a>\n          <a\n            class=\"i-twitter\"\n            :href=\"\n              getLinkTwitter('substrate', substrateBlockHash, substrateTxHash)\n            \"\n            target=\"_blank\"\n          ></a>\n        </span>\n      </template>\n    </template>\n  </p>\n</template>\n\n<script>\nimport Storage from \"../utils/storage\";\nimport Modal from \"./Modal\";\nimport { Robonomics } from \"@/utils/robonomics-substrate\";\nimport { stringToHex } from \"@polkadot/util\";\n\nexport default {\n  props: [\"item\", \"lighthouse\", \"model\", \"agent\", \"isSubstrate\"],\n  data() {\n    return {\n      substrateBlockHash: \"\",\n      substrateTxHash: \"\",\n      storage: new Storage(\n        `sn_${this.lighthouse}_${this.model}_${this.agent}_free_fuji`\n      )\n    };\n  },\n  created() {\n    if (this.item.substrateBlockHash) {\n      this.substrateBlockHash = this.item.substrateBlockHash;\n      this.substrateTxHash = this.item.substrateTxHash;\n    }\n  },\n  watch: {\n    item: function (value) {\n      if (value.substrateBlockHash) {\n        this.substrateBlockHash = value.substrateBlockHash;\n        this.substrateTxHash = value.substrateTxHash;\n      } else {\n        this.substrateBlockHash = \"\";\n        this.substrateTxHash = \"\";\n      }\n    }\n  },\n  methods: {\n    getLink(type, result, tx = null) {\n      if (type === \"substrate\") {\n        return `${window.location.origin}/${\n          this.$router.resolve({\n            name: \"sensor-result-substrate\",\n            params: {\n              lighthouse: this.lighthouse,\n              model: this.model,\n              agent: this.agent,\n              substrateBlock: result,\n              substrateTx: tx\n            }\n          }).href\n        }`;\n      }\n      return `${window.location.origin}/${\n        this.$router.resolve({\n          name: \"sensor-result\",\n          params: {\n            lighthouse: this.lighthouse,\n            model: this.model,\n            agent: this.agent,\n            result: result\n          }\n        }).href\n      }`;\n    },\n    getDescription(type) {\n      if (type === \"substrate\") {\n        return \"Look data from my sensor in Substrate Blockchain via Robonomics dapp: \";\n      }\n      return \"Look data from my sensor in IPFS via Robonomics dapp: \";\n    },\n    getLinkTwitter(type, result, tx = null) {\n      return `https://twitter.com/intent/tweet?text=${window.encodeURIComponent(\n        this.getDescription(type) + this.getLink(type, result, tx)\n      )}&ref_src=twsrc%5Etfw`;\n    },\n    async sendSubstrate(result) {\n      const robonomics = Robonomics.getInstance(\"ipci\");\n      const accounts = robonomics.accountManager.getAccounts();\n      this.$modal.show(\n        Modal,\n        {\n          accounts: accounts,\n          onSend: async (address) => {\n            await robonomics.accountManager.selectAccountByAddress(address);\n            const tx = await robonomics.datalog.write(stringToHex(result));\n            try {\n              const resultTx = await robonomics.accountManager.signAndSend(tx);\n              console.log(\"saved block\", resultTx.block, resultTx.tx);\n\n              this.$modal.hide(\"modal-select-account\");\n              this.substrateBlockHash = resultTx.block;\n              this.substrateTxHash = resultTx.tx;\n\n              const id = this.findId(\n                (item) => item.resultHash === this.item.resultHash\n              );\n              if (id) {\n                this.upadte(id, {\n                  substrateBlockHash: this.substrateBlockHash,\n                  substrateTxHash: this.substrateTxHash\n                });\n              }\n            } catch (error) {\n              console.log(error.message);\n              this.$modal.hide(\"modal-select-account\");\n            }\n          }\n        },\n        { name: \"modal-select-account\", height: \"auto\" },\n        {\n          \"before-close\": () => {\n            this.isWork = false;\n          }\n        }\n      );\n    },\n    findId(filter) {\n      const items = this.storage.getItems();\n      const keys = Object.keys(items);\n      const index = keys.findIndex((key) => filter(items[key]));\n      if (index >= 0) {\n        return keys[index];\n      }\n      return false;\n    },\n    upadte(id, data) {\n      const items = this.storage.getItems();\n      const item = {\n        ...items[id],\n        ...data,\n        update_time: new Date().toLocaleString()\n      };\n      this.storage.addItem(item.id, item);\n    }\n  }\n};\n</script>\n","import mod from \"-!../../../../node_modules/cache-loader/dist/cjs.js??ref--13-0!../../../../node_modules/thread-loader/dist/cjs.js!../../../../node_modules/babel-loader/lib/index.js!../../../../node_modules/cache-loader/dist/cjs.js??ref--1-0!../../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./MessageShare.vue?vue&type=script&lang=js&\"; export default mod; export * from \"-!../../../../node_modules/cache-loader/dist/cjs.js??ref--13-0!../../../../node_modules/thread-loader/dist/cjs.js!../../../../node_modules/babel-loader/lib/index.js!../../../../node_modules/cache-loader/dist/cjs.js??ref--1-0!../../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./MessageShare.vue?vue&type=script&lang=js&\"","import { render, staticRenderFns } from \"./MessageShare.vue?vue&type=template&id=228e43aa&\"\nimport script from \"./MessageShare.vue?vue&type=script&lang=js&\"\nexport * from \"./MessageShare.vue?vue&type=script&lang=js&\"\n\n\n/* normalize component */\nimport normalizer from \"!../../../../node_modules/vue-loader/lib/runtime/componentNormalizer.js\"\nvar component = normalizer(\n  script,\n  render,\n  staticRenderFns,\n  false,\n  null,\n  null,\n  null\n  \n)\n\nexport default component.exports","<template>\n  <div>\n    <h3 v-if=\"item.create_time\">\n      {{ $t(\"sensor.requestAt\") }} {{ item.create_time }}\n    </h3>\n    <div v-if=\"item.status === 1\" class=\"animation-fadein\">\n      <p>\n        <span class=\"loader-ring align-vertical m-r-15\"></span>\n        <b class=\"align-vertical\">1. {{ $t(\"sensor.free.status1\") }}</b>\n      </p>\n    </div>\n    <div v-else-if=\"item.status === 2\">\n      <p>\n        <b class=\"align-vertical\">1. {{ $t(\"sensor.free.status21\") }}</b>\n        <br />\n        <span>{{ $t(\"sensor.cost.hash\") }}:</span>\n        <br />\n        <RIpfsExplorer :hash=\"item.resultHash\" classStyle=\"align-vertical\" />\n        <a\n          class=\"align-vertical i-copy m-l-10\"\n          href=\"javascript:;\"\n          title=\"copy to clipboard\"\n          v-clipboard:copy=\"item.resultHash\"\n        ></a>\n      </p>\n      <p>\n        <span class=\"loader-ring align-vertical m-r-15\"></span>\n        <b class=\"align-vertical\">2. {{ $t(\"sensor.free.status22\") }}</b>\n      </p>\n      <MessageShare\n        :item=\"item\"\n        :lighthouse=\"lighthouse\"\n        :model=\"model\"\n        :agent=\"agent\"\n        :isSubstrate=\"true\"\n      />\n    </div>\n    <div v-else-if=\"item.status === 3\">\n      <p>\n        <b class=\"align-vertical\">1. {{ $t(\"sensor.free.status31\") }}</b>\n        <br />\n        <span>{{ $t(\"sensor.cost.hash\") }}:</span>\n        <br />\n        <RIpfsExplorer :hash=\"item.resultHash\" classStyle=\"align-vertical\" />\n        <a\n          class=\"align-vertical i-copy m-l-10\"\n          href=\"javascript:;\"\n          title=\"copy to clipboard\"\n          v-clipboard:copy=\"item.resultHash\"\n        ></a>\n      </p>\n      <p>\n        <b class=\"align-vertical\">2. {{ $t(\"sensor.free.status32\") }}</b>\n        <a\n          class=\"align-vertical i-copy m-l-10\"\n          href=\"javascript:;\"\n          title=\"copy to clipboard\"\n          v-clipboard:copy=\"JSON.stringify(item.result)\"\n        ></a>\n        <br />\n        <code>\n          <pre>{{ item.result }}</pre>\n        </code>\n      </p>\n      <MessageShare\n        :item=\"item\"\n        :lighthouse=\"lighthouse\"\n        :model=\"model\"\n        :agent=\"agent\"\n        :isSubstrate=\"true\"\n      />\n    </div>\n  </div>\n</template>\n\n<script>\nimport MessageShare from \"./MessageShare\";\n\nexport default {\n  props: [\"item\", \"lighthouse\", \"model\", \"agent\"],\n  components: { MessageShare }\n};\n</script>\n","import mod from \"-!../../../../node_modules/cache-loader/dist/cjs.js??ref--13-0!../../../../node_modules/thread-loader/dist/cjs.js!../../../../node_modules/babel-loader/lib/index.js!../../../../node_modules/cache-loader/dist/cjs.js??ref--1-0!../../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./MessageFree.vue?vue&type=script&lang=js&\"; export default mod; export * from \"-!../../../../node_modules/cache-loader/dist/cjs.js??ref--13-0!../../../../node_modules/thread-loader/dist/cjs.js!../../../../node_modules/babel-loader/lib/index.js!../../../../node_modules/cache-loader/dist/cjs.js??ref--1-0!../../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./MessageFree.vue?vue&type=script&lang=js&\"","import { render, staticRenderFns } from \"./MessageFree.vue?vue&type=template&id=6b541c1a&\"\nimport script from \"./MessageFree.vue?vue&type=script&lang=js&\"\nexport * from \"./MessageFree.vue?vue&type=script&lang=js&\"\n\n\n/* normalize component */\nimport normalizer from \"!../../../../node_modules/vue-loader/lib/runtime/componentNormalizer.js\"\nvar component = normalizer(\n  script,\n  render,\n  staticRenderFns,\n  false,\n  null,\n  null,\n  null\n  \n)\n\nexport default component.exports","import axios from \"axios\";\nimport { tools } from \"@/utils/ipfs\";\nimport rosBag from \"@/utils/rosBag\";\nimport config from \"~config\";\n\nexport async function parseResult(result, options = { topics: [\"/data\"] }) {\n  axios.get(`${config.IPFS_GATEWAY}${result}`).then(() => {\n    console.log(\"result ipfs hash resolved\");\n  });\n  const r = await tools.cat(result);\n  let message = {};\n  await rosBag(\n    new Blob([r]),\n    function (bag) {\n      try {\n        message = JSON.parse(bag.message.data);\n      } catch (error) {\n        console.log(error);\n      }\n    },\n    options\n  );\n  return message;\n}\n\nexport function loadScript(src) {\n  return new Promise(function (resolve, reject) {\n    const script = document.createElement(\"script\");\n    script.src = src;\n    script.onload = resolve;\n    script.onerror = reject;\n    document.body.appendChild(script);\n  });\n}\n","<template>\n  <div>\n    <div v-if=\"ready\">\n      <h4>\n        {{ $t(\"sensor.statusAgent\") }}:\n        <template v-if=\"log.length === 0\">{{\n          $t(\"sensor.notStatusAgent\")\n        }}</template>\n        <template v-else>\n          {{ $t(\"sensor.yesStatusAgent\") }}\n          {{ log[log.length - 1].create_time }}\n        </template>\n      </h4>\n      <section>\n        <div>\n          {{ $t(\"sensor.isRequest\") }}:\n          <template v-if=\"$robonomics.account\">\n            <RButton v-if=\"isRequest\" color=\"green\" disabled>\n              Sign with ethereum account\n            </RButton>\n            <RButton v-else @click.native=\"hadlerSend('eth')\" color=\"green\">\n              Sign with ethereum account\n            </RButton>\n          </template>\n          <template v-else>\n            <RButton color=\"green\" disabled>\n              Sign with ethereum account\n            </RButton>\n          </template>\n          &nbsp; &nbsp;\n          <template v-if=\"robonomics\">\n            <RButton v-if=\"isRequest\" color=\"green\" disabled>\n              Sign with substrate account\n            </RButton>\n            <RButton\n              v-else\n              @click.native=\"hadlerSend('substrate')\"\n              color=\"green\"\n            >\n              Sign with substrate account\n            </RButton>\n          </template>\n          <template v-else>\n            <RButton color=\"green\" disabled>\n              Sign with substrate account\n            </RButton>\n          </template>\n        </div>\n      </section>\n      <div v-if=\"error\" class=\"red\" style=\"margin: 20px 0\">{{ error }}</div>\n      <RWindow v-if=\"log.length > 0\" id=\"window-sensornetwork-requests\">\n        <template slot=\"header\">\n          <span>\n            {{ $t(\"sensor.requests\") }} ({{ log.length }})\n            <RButton\n              @click.native=\"clear\"\n              style=\"\n                background: none;\n                color: #03a5ed;\n                border: 2px solid #03a5ed;\n                padding-top: 2px;\n                padding-bottom: 2px;\n                margin-left: 15px;\n              \"\n              >{{ $t(\"sensor.clear\") }}</RButton\n            >\n          </span>\n        </template>\n\n        <Pagination\n          :listData=\"log\"\n          :currentPage=\"currentPage\"\n          @on-page=\"handlePage\"\n        >\n          <template v-slot:default=\"props\">\n            <RCard>\n              <Message\n                :item=\"props.item\"\n                :lighthouse=\"lighthouse\"\n                :model=\"model\"\n                :agent=\"agent\"\n              />\n            </RCard>\n          </template>\n        </Pagination>\n      </RWindow>\n    </div>\n  </div>\n</template>\n\n<script>\nimport { Account, Messenger, utils as rUtils } from \"robonomics-js\";\nimport Pagination from \"./Pagination\";\nimport Message from \"./MessageFree\";\nimport Storage from \"../utils/storage\";\nimport { parseResult, loadScript } from \"../utils/utils\";\nimport config from \"~config\";\nimport Modal from \"./Modal\";\nimport { getInstance } from \"@/utils/substrate\";\n\nimport utils from \"web3-utils\";\n\nconst MAX_ROW_HISTORY = 100;\n\nexport default {\n  props: [\"lighthouse\", \"model\", \"agent\"],\n  components: {\n    Pagination,\n    Message\n  },\n  data() {\n    return {\n      ready: false,\n      isRequest: false,\n      account: \"\",\n      error: \"\",\n      log: [],\n      currentPage: 0,\n      storage: new Storage(\n        `sn_${this.lighthouse}_${this.model}_${this.agent}_free_fuji`\n      ),\n      robonomics: null\n    };\n  },\n  async created() {\n    try {\n      this.robonomics = await getInstance(\"ipci\");\n    } catch (error) {\n      console.log(error.message);\n    }\n  },\n  mounted() {\n    loadScript(\"https://platform.twitter.com/widgets.js\");\n\n    if (!this.$robonomics) {\n      return;\n    }\n\n    if (this.$robonomics.messenger) {\n      this.$robonomics.messenger.stop();\n    }\n    this.$robonomics.initLighthouse(this.lighthouse).then(() => {\n      this.ready = true;\n      this.upLog();\n\n      this.log.forEach((item) => {\n        if (item.status === 2) {\n          parseResult(item.resultHash).then((result) => {\n            this.upadte(item.id, {\n              status: 3,\n              result: result\n            });\n          });\n        }\n      });\n\n      this.$robonomics.onDemand(this.model, (msg) => {\n        console.log(\"demand\", msg);\n      });\n\n      this.$robonomics.onResult((msg) => {\n        let sender;\n        if (msg.liability.length === 48) {\n          const hash = utils.soliditySha3(\n            { type: \"string\", value: msg.liability },\n            {\n              type: \"bytes\",\n              value: utils.bytesToHex(rUtils.base58.decode(msg.result))\n            },\n            { type: \"bool\", value: msg.success }\n          );\n          sender = Account.recovery(hash, msg.signature);\n        } else {\n          sender = Account.recoveryMessage(msg);\n        }\n\n        console.log(\"open\", msg, sender);\n\n        if (\n          sender.toLowerCase() === this.agent.toLowerCase() &&\n          msg.liability === \"0x0000000000000000000000000000000000000000\"\n        ) {\n          this.add();\n        }\n\n        if (\n          sender.toLowerCase() === this.agent.toLowerCase() &&\n          (msg.liability === \"0x0000000000000000000000000000000000000000\" ||\n            msg.liability === this.account)\n        ) {\n          const id = this.findId((item) => item.status === 1);\n          if (id) {\n            this.upadte(id, {\n              status: 2,\n              resultHash: msg.result\n            });\n            parseResult(msg.result).then((result) => {\n              this.upadte(id, {\n                status: 3,\n                result: result\n              });\n            });\n          }\n        }\n      });\n    });\n  },\n  methods: {\n    upLog() {\n      const items = this.storage.getItems();\n      const keys = Object.keys(items);\n      const removing = keys.length - MAX_ROW_HISTORY;\n      if (removing > 0) {\n        for (let index = 0; index < removing; index++) {\n          delete items[keys[index]];\n        }\n        this.storage.saveItems(items);\n      }\n      this.log = Object.values(items).reverse();\n    },\n    add() {\n      const item = {\n        id: Date.now(),\n        create_time: new Date().toLocaleString(),\n        update_time: new Date().toLocaleString(),\n        status: 1\n      };\n      this.storage.addItem(item.id, item);\n      this.upLog();\n      if (this.currentPage > 0 && this.currentPage < this.log.length - 1) {\n        this.currentPage += 1;\n      }\n    },\n    findId(filter) {\n      const items = this.storage.getItems();\n      const keys = Object.keys(items);\n      const index = keys.findIndex((key) => filter(items[key]));\n      if (index >= 0) {\n        return keys[index];\n      }\n      return false;\n    },\n    upadte(id, data) {\n      const items = this.storage.getItems();\n      const item = {\n        ...items[id],\n        ...data,\n        update_time: new Date().toLocaleString()\n      };\n      this.storage.addItem(item.id, item);\n      this.upLog();\n    },\n    handlePage(page) {\n      this.currentPage = page;\n    },\n    async hadlerSend(type) {\n      this.isRequest = true;\n      this.error = \"\";\n      try {\n        if (type === \"substrate\") {\n          await this.modalSelectAccount();\n        } else {\n          this.sendMsgDemand();\n        }\n      } catch (error) {\n        this.error = \"Error connected api\";\n        this.isRequest = false;\n      }\n    },\n    async sendDemand(account) {\n      try {\n        const demand = {\n          model: this.model,\n          objective: config.DEFAULT_OBJECTIVE,\n          token: this.$robonomics.xrt.address,\n          cost: 0,\n          lighthouse: this.$robonomics.lighthouse.address,\n          validator: \"0x0000000000000000000000000000000000000000\",\n          validatorFee: 0,\n          deadline: 0,\n          sender: account.address\n        };\n\n        this.account = account.address;\n\n        const message = Messenger.create(\"demand\", demand);\n        message.signature = await account.signMsg(message.encode());\n\n        this.$robonomics.messenger.channel.send(message.encode());\n        this.isRequest = false;\n        this.add();\n      } catch (error) {\n        this.isRequest = false;\n      }\n    },\n    async modalSelectAccount() {\n      const accounts = this.robonomics.accountManager.getAccounts();\n      if (accounts.length === 0) {\n        this.error = \"Not found accounts\";\n        this.isRequest = false;\n        return;\n      }\n      this.$modal.show(\n        Modal,\n        {\n          accounts: accounts,\n          onSend: async (address) => {\n            const account = await this.robonomics.accountManager.selectAccountByAddress(\n              address\n            );\n            try {\n              await this.sendDemand(account);\n            } catch (error) {\n              console.log(error);\n            }\n            this.$modal.hide(\"modal-select-account\");\n          }\n        },\n        { name: \"modal-select-account\", height: \"auto\" },\n        {\n          \"before-close\": () => {\n            this.isRequest = false;\n          }\n        }\n      );\n    },\n    sendMsgDemand() {\n      this.isRequest = true;\n      this.$robonomics.web3.eth.getBlock(\"latest\", (e, r) => {\n        const demand = {\n          model: this.model,\n          objective: config.DEFAULT_OBJECTIVE,\n          token: this.$robonomics.xrt.address,\n          cost: 0,\n          lighthouse: this.$robonomics.lighthouse.address,\n          validator: \"0x0000000000000000000000000000000000000000\",\n          validatorFee: 0,\n          deadline: r.number + 1000\n        };\n        this.$robonomics\n          .sendDemand(demand, false, () => {\n            this.account = this.$robonomics.account.address;\n            this.isRequest = false;\n            this.add();\n          })\n          .catch((e) => {\n            this.isRequest = false;\n            console.log(e);\n          });\n      });\n    },\n    clear() {\n      this.storage.clear();\n      this.log = [];\n      this.currentPage = 0;\n    }\n  }\n};\n</script>\n","import mod from \"-!../../../../node_modules/cache-loader/dist/cjs.js??ref--13-0!../../../../node_modules/thread-loader/dist/cjs.js!../../../../node_modules/babel-loader/lib/index.js!../../../../node_modules/cache-loader/dist/cjs.js??ref--1-0!../../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./SensorFree.vue?vue&type=script&lang=js&\"; export default mod; export * from \"-!../../../../node_modules/cache-loader/dist/cjs.js??ref--13-0!../../../../node_modules/thread-loader/dist/cjs.js!../../../../node_modules/babel-loader/lib/index.js!../../../../node_modules/cache-loader/dist/cjs.js??ref--1-0!../../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./SensorFree.vue?vue&type=script&lang=js&\"","import { render, staticRenderFns } from \"./SensorFree.vue?vue&type=template&id=3b4c4bdd&\"\nimport script from \"./SensorFree.vue?vue&type=script&lang=js&\"\nexport * from \"./SensorFree.vue?vue&type=script&lang=js&\"\n\n\n/* normalize component */\nimport normalizer from \"!../../../../node_modules/vue-loader/lib/runtime/componentNormalizer.js\"\nvar component = normalizer(\n  script,\n  render,\n  staticRenderFns,\n  false,\n  null,\n  null,\n  null\n  \n)\n\nexport default component.exports","var render = function () {var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;return _c('div',[(_vm.ready)?_c('div',[_c('h4',[_vm._v(\" \"+_vm._s(_vm.$t(\"sensor.statusAgent\"))+\": \"),(_vm.log.length === 0)?[_vm._v(_vm._s(_vm.$t(\"sensor.notStatusAgent\")))]:[_vm._v(\" \"+_vm._s(_vm.$t(\"sensor.yesStatusAgent\"))+\" \"+_vm._s(_vm.log[_vm.log.length - 1].time)+\" \")]],2),(_vm.$robonomics.account)?_c('section',[(Number(_vm.cost) > 0 && _vm.tokenAddress)?_c('Approve',{attrs:{\"address\":_vm.tokenAddress,\"from\":_vm.$robonomics.account.address,\"to\":_vm.$robonomics.factory.address,\"initAmountWei\":_vm.cost,\"alwaysShow\":false}}):_vm._e(),(Number(_vm.myAllowance) >= Number(_vm.cost))?_c('div',{staticClass:\"input-size--md\"},[(_vm.isRequest)?_c('RButton',{attrs:{\"fullWidth\":\"\",\"color\":\"green\",\"disabled\":\"\"}},[_vm._v(\" \"+_vm._s(_vm.$t(\"sensor.requested\"))+\" \")]):_c('RButton',{attrs:{\"fullWidth\":\"\",\"color\":\"green\"},nativeOn:{\"click\":function($event){return _vm.sendMsgDemand.apply(null, arguments)}}},[_vm._v(_vm._s(_vm.$t(\"sensor.isRequest\")))])],1):_vm._e()],1):_vm._e(),(_vm.log.length > 0)?_c('RWindow',{attrs:{\"id\":\"window-sensornetwork-requests\"}},[_c('template',{slot:\"header\"},[_c('span',[_vm._v(\" \"+_vm._s(_vm.$t(\"sensor.requests\"))+\" (\"+_vm._s(_vm.log.length)+\") \"),_c('RButton',{staticStyle:{\"background\":\"none\",\"color\":\"#03a5ed\",\"border\":\"2px solid #03a5ed\",\"padding-top\":\"2px\",\"padding-bottom\":\"2px\",\"margin-left\":\"15px\"},nativeOn:{\"click\":function($event){return _vm.clear.apply(null, arguments)}}},[_vm._v(_vm._s(_vm.$t(\"sensor.clear\")))])],1)]),_c('Pagination',{attrs:{\"listData\":_vm.log,\"currentPage\":_vm.currentPage},on:{\"on-page\":_vm.handlePage},scopedSlots:_vm._u([{key:\"default\",fn:function(props){return [_c('RCard',[_c('Message',{attrs:{\"item\":props.item,\"lighthouse\":_vm.lighthouse,\"model\":_vm.model,\"agent\":_vm.agent}})],1)]}}],null,false,2391056252)})],2):_vm._e()],1):_vm._e()])}\nvar staticRenderFns = []\n\nexport { render, staticRenderFns }","var render = function () {var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;return _c('div',[(_vm.item.create_time)?_c('h3',[_vm._v(\" \"+_vm._s(_vm.$t(\"sensor.requestAt\"))+\" \"+_vm._s(_vm.item.create_time)+\" \")]):_vm._e(),(_vm.item.status === 1)?_c('div',{staticClass:\"animation-fadein\"},[_c('p',[_c('span',{staticClass:\"loader-ring align-vertical m-r-15\"}),_c('b',{staticClass:\"align-vertical\"},[_vm._v(\"1. \"+_vm._s(_vm.$t(\"sensor.cost.status1\")))])])]):(_vm.item.status === 2)?_c('div',[_c('p',[_c('b',{staticClass:\"align-vertical\"},[_vm._v(\"1. \"+_vm._s(_vm.$t(\"sensor.cost.status21\")))]),_c('br'),_c('span',[_vm._v(_vm._s(_vm.$t(\"sensor.cost.address\"))+\":\")]),_c('br'),_c('RIpfsExplorer',{attrs:{\"hash\":_vm.item.liability,\"classStyle\":\"align-vertical\"}}),_c('a',{directives:[{name:\"clipboard\",rawName:\"v-clipboard:copy\",value:(_vm.item.liability),expression:\"item.liability\",arg:\"copy\"}],staticClass:\"align-vertical i-copy m-l-10\",attrs:{\"href\":\"javascript:;\",\"title\":\"copy to clipboard\"}})],1),_c('p',[_c('span',{staticClass:\"loader-ring align-vertical m-r-15\"}),_c('b',{staticClass:\"align-vertical\"},[_vm._v(\"2. \"+_vm._s(_vm.$t(\"sensor.cost.status22\")))])])]):(_vm.item.status === 3)?_c('div',[_c('p',[_c('b',{staticClass:\"align-vertical\"},[_vm._v(\"1. \"+_vm._s(_vm.$t(\"sensor.cost.status21\")))]),_c('br'),_c('span',[_vm._v(_vm._s(_vm.$t(\"sensor.cost.address\"))+\":\")]),_c('br'),_c('RIpfsExplorer',{attrs:{\"hash\":_vm.item.liability,\"classStyle\":\"align-vertical\"}}),_c('a',{directives:[{name:\"clipboard\",rawName:\"v-clipboard:copy\",value:(_vm.item.liability),expression:\"item.liability\",arg:\"copy\"}],staticClass:\"align-vertical i-copy m-l-10\",attrs:{\"href\":\"javascript:;\",\"title\":\"copy to clipboard\"}})],1),_c('p',[_c('b',{staticClass:\"align-vertical\"},[_vm._v(\"2. \"+_vm._s(_vm.$t(\"sensor.cost.status31\")))]),_c('br'),_c('span',[_vm._v(_vm._s(_vm.$t(\"sensor.cost.hash\"))+\":\")]),_c('br'),_c('RIpfsExplorer',{attrs:{\"hash\":_vm.item.resultHash,\"classStyle\":\"align-vertical\"}}),_c('a',{directives:[{name:\"clipboard\",rawName:\"v-clipboard:copy\",value:(_vm.item.resultHash),expression:\"item.resultHash\",arg:\"copy\"}],staticClass:\"align-vertical i-copy m-l-10\",attrs:{\"href\":\"javascript:;\",\"title\":\"copy to clipboard\"}})],1),_c('p',[_c('span',{staticClass:\"loader-ring align-vertical m-r-15\"}),_c('b',{staticClass:\"align-vertical\"},[_vm._v(\"3. \"+_vm._s(_vm.$t(\"sensor.cost.status32\")))])]),_c('MessageShare',{attrs:{\"item\":_vm.item,\"lighthouse\":_vm.lighthouse,\"model\":_vm.model,\"agent\":_vm.agent}})],1):(_vm.item.status === 4)?_c('div',[_c('p',[_c('b',{staticClass:\"align-vertical\"},[_vm._v(\"1. \"+_vm._s(_vm.$t(\"sensor.cost.status21\")))]),_c('br'),_c('span',[_vm._v(_vm._s(_vm.$t(\"sensor.cost.address\"))+\":\")]),_c('br'),_c('RIpfsExplorer',{attrs:{\"hash\":_vm.item.liability,\"classStyle\":\"align-vertical\"}}),_c('a',{directives:[{name:\"clipboard\",rawName:\"v-clipboard:copy\",value:(_vm.item.liability),expression:\"item.liability\",arg:\"copy\"}],staticClass:\"align-vertical i-copy m-l-10\",attrs:{\"href\":\"javascript:;\",\"title\":\"copy to clipboard\"}})],1),_c('p',[_c('b',{staticClass:\"align-vertical\"},[_vm._v(\"2. \"+_vm._s(_vm.$t(\"sensor.cost.status41\")))]),_c('br'),_c('span',[_vm._v(_vm._s(_vm.$t(\"sensor.cost.hash\"))+\":\")]),_c('br'),_c('RIpfsExplorer',{attrs:{\"hash\":_vm.item.resultHash,\"classStyle\":\"align-vertical\"}}),_c('a',{directives:[{name:\"clipboard\",rawName:\"v-clipboard:copy\",value:(_vm.item.resultHash),expression:\"item.resultHash\",arg:\"copy\"}],staticClass:\"align-vertical i-copy m-l-10\",attrs:{\"href\":\"javascript:;\",\"title\":\"copy to clipboard\"}})],1),_c('p',[_c('b',{staticClass:\"align-vertical\"},[_vm._v(\"3. \"+_vm._s(_vm.$t(\"sensor.cost.status42\")))]),_c('a',{directives:[{name:\"clipboard\",rawName:\"v-clipboard:copy\",value:(JSON.stringify(_vm.item.result)),expression:\"JSON.stringify(item.result)\",arg:\"copy\"}],staticClass:\"align-vertical i-copy m-l-10\",attrs:{\"href\":\"javascript:;\",\"title\":\"copy to clipboard\"}}),_c('br'),_c('code',[_c('pre',[_vm._v(_vm._s(_vm.item.result))])])]),_c('MessageShare',{attrs:{\"item\":_vm.item,\"lighthouse\":_vm.lighthouse,\"model\":_vm.model,\"agent\":_vm.agent}})],1):_vm._e()])}\nvar staticRenderFns = []\n\nexport { render, staticRenderFns }","<template>\n  <div>\n    <h3 v-if=\"item.create_time\">\n      {{ $t(\"sensor.requestAt\") }} {{ item.create_time }}\n    </h3>\n    <div v-if=\"item.status === 1\" class=\"animation-fadein\">\n      <p>\n        <span class=\"loader-ring align-vertical m-r-15\"></span>\n        <b class=\"align-vertical\">1. {{ $t(\"sensor.cost.status1\") }}</b>\n      </p>\n    </div>\n    <div v-else-if=\"item.status === 2\">\n      <p>\n        <b class=\"align-vertical\">1. {{ $t(\"sensor.cost.status21\") }}</b>\n        <br />\n        <span>{{ $t(\"sensor.cost.address\") }}:</span>\n        <br />\n        <RIpfsExplorer :hash=\"item.liability\" classStyle=\"align-vertical\" />\n        <a\n          class=\"align-vertical i-copy m-l-10\"\n          href=\"javascript:;\"\n          title=\"copy to clipboard\"\n          v-clipboard:copy=\"item.liability\"\n        ></a>\n      </p>\n      <p>\n        <span class=\"loader-ring align-vertical m-r-15\"></span>\n        <b class=\"align-vertical\">2. {{ $t(\"sensor.cost.status22\") }}</b>\n      </p>\n    </div>\n    <div v-else-if=\"item.status === 3\">\n      <p>\n        <b class=\"align-vertical\">1. {{ $t(\"sensor.cost.status21\") }}</b>\n        <br />\n        <span>{{ $t(\"sensor.cost.address\") }}:</span>\n        <br />\n        <RIpfsExplorer :hash=\"item.liability\" classStyle=\"align-vertical\" />\n        <a\n          class=\"align-vertical i-copy m-l-10\"\n          href=\"javascript:;\"\n          title=\"copy to clipboard\"\n          v-clipboard:copy=\"item.liability\"\n        ></a>\n      </p>\n      <p>\n        <b class=\"align-vertical\">2. {{ $t(\"sensor.cost.status31\") }}</b>\n        <br />\n        <span>{{ $t(\"sensor.cost.hash\") }}:</span>\n        <br />\n        <RIpfsExplorer :hash=\"item.resultHash\" classStyle=\"align-vertical\" />\n        <a\n          class=\"align-vertical i-copy m-l-10\"\n          href=\"javascript:;\"\n          title=\"copy to clipboard\"\n          v-clipboard:copy=\"item.resultHash\"\n        ></a>\n      </p>\n      <p>\n        <span class=\"loader-ring align-vertical m-r-15\"></span>\n        <b class=\"align-vertical\">3. {{ $t(\"sensor.cost.status32\") }}</b>\n      </p>\n      <MessageShare\n        :item=\"item\"\n        :lighthouse=\"lighthouse\"\n        :model=\"model\"\n        :agent=\"agent\"\n      />\n    </div>\n    <div v-else-if=\"item.status === 4\">\n      <p>\n        <b class=\"align-vertical\">1. {{ $t(\"sensor.cost.status21\") }}</b>\n        <br />\n        <span>{{ $t(\"sensor.cost.address\") }}:</span>\n        <br />\n        <RIpfsExplorer :hash=\"item.liability\" classStyle=\"align-vertical\" />\n        <a\n          class=\"align-vertical i-copy m-l-10\"\n          href=\"javascript:;\"\n          title=\"copy to clipboard\"\n          v-clipboard:copy=\"item.liability\"\n        ></a>\n      </p>\n      <p>\n        <b class=\"align-vertical\">2. {{ $t(\"sensor.cost.status41\") }}</b>\n        <br />\n        <span>{{ $t(\"sensor.cost.hash\") }}:</span>\n        <br />\n        <RIpfsExplorer :hash=\"item.resultHash\" classStyle=\"align-vertical\" />\n        <a\n          class=\"align-vertical i-copy m-l-10\"\n          href=\"javascript:;\"\n          title=\"copy to clipboard\"\n          v-clipboard:copy=\"item.resultHash\"\n        ></a>\n      </p>\n      <p>\n        <b class=\"align-vertical\">3. {{ $t(\"sensor.cost.status42\") }}</b>\n        <a\n          class=\"align-vertical i-copy m-l-10\"\n          href=\"javascript:;\"\n          title=\"copy to clipboard\"\n          v-clipboard:copy=\"JSON.stringify(item.result)\"\n        ></a>\n        <br />\n        <code>\n          <pre>{{ item.result }}</pre>\n        </code>\n      </p>\n      <MessageShare\n        :item=\"item\"\n        :lighthouse=\"lighthouse\"\n        :model=\"model\"\n        :agent=\"agent\"\n      />\n    </div>\n  </div>\n</template>\n\n<script>\nimport MessageShare from \"./MessageShare\";\n\nexport default {\n  props: [\"item\", \"lighthouse\", \"model\", \"agent\"],\n  components: { MessageShare }\n};\n</script>\n","import mod from \"-!../../../../node_modules/cache-loader/dist/cjs.js??ref--13-0!../../../../node_modules/thread-loader/dist/cjs.js!../../../../node_modules/babel-loader/lib/index.js!../../../../node_modules/cache-loader/dist/cjs.js??ref--1-0!../../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./MessageCost.vue?vue&type=script&lang=js&\"; export default mod; export * from \"-!../../../../node_modules/cache-loader/dist/cjs.js??ref--13-0!../../../../node_modules/thread-loader/dist/cjs.js!../../../../node_modules/babel-loader/lib/index.js!../../../../node_modules/cache-loader/dist/cjs.js??ref--1-0!../../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./MessageCost.vue?vue&type=script&lang=js&\"","import { render, staticRenderFns } from \"./MessageCost.vue?vue&type=template&id=1503d2a0&\"\nimport script from \"./MessageCost.vue?vue&type=script&lang=js&\"\nexport * from \"./MessageCost.vue?vue&type=script&lang=js&\"\n\n\n/* normalize component */\nimport normalizer from \"!../../../../node_modules/vue-loader/lib/runtime/componentNormalizer.js\"\nvar component = normalizer(\n  script,\n  render,\n  staticRenderFns,\n  false,\n  null,\n  null,\n  null\n  \n)\n\nexport default component.exports","<template>\n  <div>\n    <div v-if=\"ready\">\n      <h4>\n        {{ $t(\"sensor.statusAgent\") }}:\n        <template v-if=\"log.length === 0\">{{\n          $t(\"sensor.notStatusAgent\")\n        }}</template>\n        <template v-else>\n          {{ $t(\"sensor.yesStatusAgent\") }}\n          {{ log[log.length - 1].time }}\n        </template>\n      </h4>\n      <section v-if=\"$robonomics.account\">\n        <Approve\n          v-if=\"Number(cost) > 0 && tokenAddress\"\n          :address=\"tokenAddress\"\n          :from=\"$robonomics.account.address\"\n          :to=\"$robonomics.factory.address\"\n          :initAmountWei=\"cost\"\n          :alwaysShow=\"false\"\n        />\n        <div v-if=\"Number(myAllowance) >= Number(cost)\" class=\"input-size--md\">\n          <RButton v-if=\"isRequest\" fullWidth color=\"green\" disabled>\n            {{ $t(\"sensor.requested\") }}\n          </RButton>\n          <RButton\n            v-else\n            @click.native=\"sendMsgDemand\"\n            fullWidth\n            color=\"green\"\n            >{{ $t(\"sensor.isRequest\") }}</RButton\n          >\n        </div>\n      </section>\n      <RWindow v-if=\"log.length > 0\" id=\"window-sensornetwork-requests\">\n        <template slot=\"header\">\n          <span>\n            {{ $t(\"sensor.requests\") }} ({{ log.length }})\n            <RButton\n              @click.native=\"clear\"\n              style=\"\n                background: none;\n                color: #03a5ed;\n                border: 2px solid #03a5ed;\n                padding-top: 2px;\n                padding-bottom: 2px;\n                margin-left: 15px;\n              \"\n              >{{ $t(\"sensor.clear\") }}</RButton\n            >\n          </span>\n        </template>\n\n        <Pagination\n          :listData=\"log\"\n          :currentPage=\"currentPage\"\n          @on-page=\"handlePage\"\n        >\n          <template v-slot:default=\"props\">\n            <RCard>\n              <Message\n                :item=\"props.item\"\n                :lighthouse=\"lighthouse\"\n                :model=\"model\"\n                :agent=\"agent\"\n              />\n            </RCard>\n          </template>\n        </Pagination>\n      </RWindow>\n    </div>\n  </div>\n</template>\n\n<script>\nimport { Liability } from \"robonomics-js\";\nimport Approve from \"@/components/approve/Main\";\nimport token from \"@/mixins/token\";\nimport Pagination from \"./Pagination\";\nimport Message from \"./MessageCost\";\nimport Storage from \"../utils/storage\";\nimport { parseResult, loadScript } from \"../utils/utils\";\nimport config from \"~config\";\n\nconst MAX_ROW_HISTORY = 100;\n\nexport default {\n  mixins: [token],\n  props: [\"lighthouse\", \"model\", \"agent\", \"tokenAddress\", \"cost\"],\n  components: {\n    Pagination,\n    Message,\n    Approve\n  },\n  data() {\n    return {\n      ready: false,\n      isRequest: false,\n      log: [],\n      currentPage: 0,\n      storage: new Storage(\n        `sn_${this.lighthouse}_${this.model}_${this.agent}_cost_v1`\n      )\n    };\n  },\n  mounted() {\n    loadScript(\"https://platform.twitter.com/widgets.js\");\n\n    if (this.$robonomics.messenger) {\n      this.$robonomics.messenger.stop();\n    }\n    this.$robonomics.initLighthouse(this.lighthouse).then(() => {\n      this.ready = true;\n      this.upLog();\n\n      this.log.forEach((item) => {\n        if (item.status === 2) {\n          const liability = new Liability(\n            this.$robonomics.web3,\n            item.liability\n          );\n          liability\n            .result()\n            .then((r) => {\n              if (r) {\n                return r;\n              }\n              return liability.onResult();\n            })\n            .then((result) => {\n              console.log(result);\n              this.upadte(item.id, {\n                status: 3,\n                resultHash: result\n              });\n              parseResult(result).then((result) => {\n                this.upadte(item.id, {\n                  status: 4,\n                  result: result\n                });\n              });\n            })\n            .catch((e) => {\n              this.isRequest = false;\n              console.log(e);\n            });\n        } else if (item.status === 3) {\n          parseResult(item.resultHash).then((result) => {\n            this.upadte(item.id, {\n              status: 4,\n              result: result\n            });\n          });\n        }\n      });\n\n      this.$robonomics.onDemand(this.model, (msg) => {\n        console.log(\"demand\", msg);\n      });\n      this.$robonomics.onOffer(this.model, (msg) => {\n        console.log(\"offer\", msg);\n      });\n    });\n  },\n  created() {\n    if (this.$robonomics.account) {\n      this.watchToken(\n        this.tokenAddress,\n        this.$robonomics.account.address,\n        this.$robonomics.factory.address\n      );\n    }\n  },\n  computed: {\n    myAllowance: function () {\n      if (this.$robonomics.account && this.response) {\n        return this.allowance(\n          this.tokenAddress,\n          this.$robonomics.account.address,\n          this.$robonomics.factory.address\n        );\n      }\n      return 0;\n    }\n  },\n  methods: {\n    upLog() {\n      const items = this.storage.getItems();\n      const keys = Object.keys(items);\n      const removing = keys.length - MAX_ROW_HISTORY;\n      if (removing > 0) {\n        for (let index = 0; index < removing; index++) {\n          delete items[keys[index]];\n        }\n        this.storage.saveItems(items);\n      }\n      this.log = Object.values(items).reverse();\n    },\n    add() {\n      const id = Date.now();\n      const item = {\n        id,\n        create_time: new Date().toLocaleString(),\n        update_time: new Date().toLocaleString(),\n        status: 1\n      };\n      this.storage.addItem(item.id, item);\n      this.upLog();\n      if (this.currentPage > 0 && this.currentPage < this.log.length - 1) {\n        this.currentPage += 1;\n      }\n      return id;\n    },\n    upadte(id, data) {\n      const items = this.storage.getItems();\n      const item = {\n        ...items[id],\n        ...data,\n        update_time: new Date().toLocaleString()\n      };\n      this.storage.addItem(item.id, item);\n      this.upLog();\n    },\n    handlePage(page) {\n      this.currentPage = page;\n    },\n    sendMsgDemand() {\n      this.isRequest = true;\n      this.$robonomics.web3.eth.getBlock(\"latest\", (e, r) => {\n        const demand = {\n          model: this.model,\n          objective: config.DEFAULT_OBJECTIVE,\n          token: this.tokenAddress,\n          cost: this.cost,\n          lighthouse: this.$robonomics.lighthouse.address,\n          validator: \"0x0000000000000000000000000000000000000000\",\n          validatorFee: 0,\n          deadline: r.number + 1000\n        };\n        let id = null;\n        this.$robonomics\n          .sendDemand(demand, true, () => {\n            this.isRequest = false;\n            id = this.add();\n          })\n          .then((liability) => {\n            console.log(liability.address);\n            if (id) {\n              this.upadte(id, {\n                status: 2,\n                liability: liability.address\n              });\n            }\n            return liability.onResult();\n          })\n          .then((result) => {\n            console.log(result);\n            if (id) {\n              this.upadte(id, {\n                status: 3,\n                resultHash: result\n              });\n            }\n            parseResult(result).then((result) => {\n              if (id) {\n                this.upadte(id, {\n                  status: 4,\n                  result: result\n                });\n              }\n            });\n          })\n          .catch((e) => {\n            this.isRequest = false;\n            console.log(e);\n          });\n      });\n    },\n    clear() {\n      this.storage.clear();\n      this.log = [];\n      this.currentPage = 0;\n    }\n  }\n};\n</script>\n","import mod from \"-!../../../../node_modules/cache-loader/dist/cjs.js??ref--13-0!../../../../node_modules/thread-loader/dist/cjs.js!../../../../node_modules/babel-loader/lib/index.js!../../../../node_modules/cache-loader/dist/cjs.js??ref--1-0!../../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./SensorCost.vue?vue&type=script&lang=js&\"; export default mod; export * from \"-!../../../../node_modules/cache-loader/dist/cjs.js??ref--13-0!../../../../node_modules/thread-loader/dist/cjs.js!../../../../node_modules/babel-loader/lib/index.js!../../../../node_modules/cache-loader/dist/cjs.js??ref--1-0!../../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./SensorCost.vue?vue&type=script&lang=js&\"","import { render, staticRenderFns } from \"./SensorCost.vue?vue&type=template&id=17dbd1be&\"\nimport script from \"./SensorCost.vue?vue&type=script&lang=js&\"\nexport * from \"./SensorCost.vue?vue&type=script&lang=js&\"\n\n\n/* normalize component */\nimport normalizer from \"!../../../../node_modules/vue-loader/lib/runtime/componentNormalizer.js\"\nvar component = normalizer(\n  script,\n  render,\n  staticRenderFns,\n  false,\n  null,\n  null,\n  null\n  \n)\n\nexport default component.exports","var render = function () {var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;return _c('div',[(_vm.ready)?_c('div',{staticStyle:{\"padding-top\":\"20px\"}},[_c('RWindow',{attrs:{\"id\":\"window-sensornetwork-requests\"}},[_c('template',{slot:\"header\"},[_c('span',[_vm._v(_vm._s(_vm.$t(\"sensor.result\")))])]),(_vm.item)?_c('RCard',[_c('Message',{attrs:{\"item\":_vm.item,\"lighthouse\":_vm.lighthouse,\"model\":_vm.model,\"agent\":_vm.agent,\"isSubstrate\":true}})],1):_vm._e()],2)],1):_vm._e()])}\nvar staticRenderFns = []\n\nexport { render, staticRenderFns }","<template>\n  <div>\n    <div v-if=\"ready\" style=\"padding-top: 20px\">\n      <RWindow id=\"window-sensornetwork-requests\">\n        <template slot=\"header\">\n          <span>{{ $t(\"sensor.result\") }}</span>\n        </template>\n        <RCard v-if=\"item\">\n          <Message\n            :item=\"item\"\n            :lighthouse=\"lighthouse\"\n            :model=\"model\"\n            :agent=\"agent\"\n            :isSubstrate=\"true\"\n          />\n        </RCard>\n      </RWindow>\n    </div>\n  </div>\n</template>\n\n<script>\nimport Message from \"./MessageFree\";\nimport { parseResult, loadScript } from \"../utils/utils\";\n\nexport default {\n  props: [\"lighthouse\", \"model\", \"agent\", \"result\"],\n  components: {\n    Message\n  },\n  data() {\n    return {\n      ready: false,\n      item: null\n    };\n  },\n  mounted() {\n    loadScript(\"https://platform.twitter.com/widgets.js\");\n\n    if (this.$robonomics.messenger) {\n      this.$robonomics.messenger.stop();\n    }\n    this.$robonomics.initLighthouse(this.lighthouse).then(() => {\n      this.ready = true;\n\n      this.item = {\n        status: 2,\n        resultHash: this.result\n      };\n      parseResult(this.result)\n        .then((result) => {\n          this.item = {\n            ...this.item,\n            status: 3,\n            result: result\n          };\n        })\n        .catch((e) => {\n          console.log(e);\n        });\n    });\n  }\n};\n</script>\n","import mod from \"-!../../../../node_modules/cache-loader/dist/cjs.js??ref--13-0!../../../../node_modules/thread-loader/dist/cjs.js!../../../../node_modules/babel-loader/lib/index.js!../../../../node_modules/cache-loader/dist/cjs.js??ref--1-0!../../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./SensorResult.vue?vue&type=script&lang=js&\"; export default mod; export * from \"-!../../../../node_modules/cache-loader/dist/cjs.js??ref--13-0!../../../../node_modules/thread-loader/dist/cjs.js!../../../../node_modules/babel-loader/lib/index.js!../../../../node_modules/cache-loader/dist/cjs.js??ref--1-0!../../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./SensorResult.vue?vue&type=script&lang=js&\"","import { render, staticRenderFns } from \"./SensorResult.vue?vue&type=template&id=cdcc3104&\"\nimport script from \"./SensorResult.vue?vue&type=script&lang=js&\"\nexport * from \"./SensorResult.vue?vue&type=script&lang=js&\"\n\n\n/* normalize component */\nimport normalizer from \"!../../../../node_modules/vue-loader/lib/runtime/componentNormalizer.js\"\nvar component = normalizer(\n  script,\n  render,\n  staticRenderFns,\n  false,\n  null,\n  null,\n  null\n  \n)\n\nexport default component.exports","var render = function () {var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;return _c('div',[(_vm.ready)?_c('div',{staticStyle:{\"padding-top\":\"20px\"}},[_c('RWindow',{attrs:{\"id\":\"window-sensornetwork-requests\"}},[_c('template',{slot:\"header\"},[_c('span',[_vm._v(_vm._s(_vm.$t(\"sensor.result\")))])]),(_vm.item)?_c('RCard',[_c('Message',{attrs:{\"item\":_vm.item,\"lighthouse\":_vm.lighthouse,\"model\":_vm.model,\"agent\":_vm.agent,\"isSubstrate\":true}})],1):_vm._e()],2)],1):_vm._e()])}\nvar staticRenderFns = []\n\nexport { render, staticRenderFns }","<template>\n  <div>\n    <div v-if=\"ready\" style=\"padding-top: 20px\">\n      <RWindow id=\"window-sensornetwork-requests\">\n        <template slot=\"header\">\n          <span>{{ $t(\"sensor.result\") }}</span>\n        </template>\n        <RCard v-if=\"item\">\n          <Message\n            :item=\"item\"\n            :lighthouse=\"lighthouse\"\n            :model=\"model\"\n            :agent=\"agent\"\n            :isSubstrate=\"true\"\n          />\n        </RCard>\n      </RWindow>\n    </div>\n  </div>\n</template>\n\n<script>\nimport Message from \"./MessageFree\";\nimport { parseResult, loadScript } from \"../utils/utils\";\nimport { Robonomics } from \"@/utils/robonomics-substrate\";\nimport { hexToString } from \"@polkadot/util\";\n\nexport default {\n  props: [\"lighthouse\", \"model\", \"agent\", \"substrateBlock\", \"substrateTx\"],\n  components: {\n    Message\n  },\n  data() {\n    return {\n      ready: true,\n      item: null\n    };\n  },\n  mounted() {\n    loadScript(\"https://platform.twitter.com/widgets.js\");\n    this.init();\n  },\n  methods: {\n    async init() {\n      const robonomics = Robonomics.getInstance(\"ipci\");\n      // console.log(substrate.query.system);\n      // substrate.query.system.extrinsicData.at(\n      //   \"0xcda332716bd86f8a487fc882ed560ba555b6368b2baf3290f0b4492bbac022e9\",\n      //   r => {\n      //     console.log(r);\n      //   }\n      // );\n      robonomics.api.query.system.events.at(this.substrateBlock, (events) => {\n        // console.log(events);\n        events.forEach((record) => {\n          const { event /*, phase*/ } = record;\n          if (event.section === \"datalog\") {\n            const eventObj = {\n              // link: `${blockNUmber}-${phase.asApplyExtrinsic.toString()}`,\n              // hashEvent: event.hash.toString(),\n              section: event.section,\n              method: event.method,\n              data: {}\n            };\n\n            Object.keys(event.data.typeDef).forEach((index) => {\n              eventObj.data[event.data.typeDef[index].type] = event.data[\n                index\n              ].toString();\n            });\n            // console.log(eventObj);\n          }\n        });\n      });\n\n      robonomics.api.rpc.chain.getBlock(this.substrateBlock, (block) => {\n        // get extrinsics\n        block.block.extrinsics.forEach((item) => {\n          if (\n            item.method.section === \"datalog\" &&\n            item.method.method === \"record\" &&\n            item.hash.toString() === this.substrateTx\n          ) {\n            const obj = {\n              tx: item.hash.toString(),\n              props: {}\n            };\n            Object.keys(item.method.argsDef).forEach((prop, index) => {\n              obj.props[prop] = item.method.args[index].toString();\n            });\n            const resultHash = hexToString(obj.props.record);\n            this.item = {\n              status: 2,\n              resultHash: resultHash,\n              substrateBlockHash: this.substrateBlock,\n              substrateTxHash: this.substrateTx\n            };\n            parseResult(resultHash).then((result) => {\n              this.item = {\n                ...this.item,\n                status: 3,\n                result: result\n              };\n            });\n          }\n        });\n      });\n    }\n  }\n};\n</script>\n","import mod from \"-!../../../../node_modules/cache-loader/dist/cjs.js??ref--13-0!../../../../node_modules/thread-loader/dist/cjs.js!../../../../node_modules/babel-loader/lib/index.js!../../../../node_modules/cache-loader/dist/cjs.js??ref--1-0!../../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./SensorResultSubstrate.vue?vue&type=script&lang=js&\"; export default mod; export * from \"-!../../../../node_modules/cache-loader/dist/cjs.js??ref--13-0!../../../../node_modules/thread-loader/dist/cjs.js!../../../../node_modules/babel-loader/lib/index.js!../../../../node_modules/cache-loader/dist/cjs.js??ref--1-0!../../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./SensorResultSubstrate.vue?vue&type=script&lang=js&\"","import { render, staticRenderFns } from \"./SensorResultSubstrate.vue?vue&type=template&id=21ab0ae9&\"\nimport script from \"./SensorResultSubstrate.vue?vue&type=script&lang=js&\"\nexport * from \"./SensorResultSubstrate.vue?vue&type=script&lang=js&\"\n\n\n/* normalize component */\nimport normalizer from \"!../../../../node_modules/vue-loader/lib/runtime/componentNormalizer.js\"\nvar component = normalizer(\n  script,\n  render,\n  staticRenderFns,\n  false,\n  null,\n  null,\n  null\n  \n)\n\nexport default component.exports","<template>\n  <Page>\n    <section>\n      <h2 class=\"breadcrumbs m-b-0\">\n        <span>\n          <span class=\"i-signal m-r-10\"></span>\n          <span>{{ $t(\"sensors.title\") }}</span>\n        </span>\n        <i>/</i>\n        <span>{{ nameModel }} {{ miniAddrAgent }}</span>\n      </h2>\n      <modals-container />\n      <SensorResult\n        v-if=\"result\"\n        :lighthouse=\"lighthouse\"\n        :model=\"model\"\n        :agent=\"agent\"\n        :result=\"result\"\n      />\n      <SensorResultSubstrate\n        v-if=\"substrateBlock\"\n        :lighthouse=\"lighthouse\"\n        :model=\"model\"\n        :agent=\"agent\"\n        :substrateBlock=\"substrateBlock\"\n        :substrateTx=\"substrateTx\"\n      />\n      <SensorCost\n        v-else-if=\"cost > 0\"\n        :lighthouse=\"lighthouse\"\n        :model=\"model\"\n        :agent=\"agent\"\n        :tokenAddress=\"token\"\n        :cost=\"cost\"\n      />\n      <SensorFree\n        v-else\n        :lighthouse=\"lighthouse\"\n        :model=\"model\"\n        :agent=\"agent\"\n        :result=\"result\"\n      />\n    </section>\n  </Page>\n</template>\n\n<script>\nimport Page from \"@/components/layout/Page\";\nimport SensorFree from \"./SensorFree\";\nimport SensorCost from \"./SensorCost\";\nimport SensorResult from \"./SensorResult\";\nimport SensorResultSubstrate from \"./SensorResultSubstrate\";\nimport config from \"~config\";\n\nexport default {\n  props: [\n    \"lighthouse\",\n    \"model\",\n    \"agent\",\n    \"result\",\n    \"substrateBlock\",\n    \"substrateTx\",\n    \"token\",\n    \"cost\"\n  ],\n  components: {\n    Page,\n    SensorFree,\n    SensorCost,\n    SensorResult,\n    SensorResultSubstrate\n  },\n  computed: {\n    miniAddrAgent: function () {\n      return this.agent.slice(0, 6) + \"...\" + this.agent.slice(-4);\n    },\n    nameModel: function () {\n      return Object.prototype.hasOwnProperty.call(\n        config.CATEGORY_MODELS,\n        this.model\n      )\n        ? config.CATEGORY_MODELS[this.model]\n        : \"unknown\";\n    }\n  },\n  async created() {\n    document.title = `${this.$t(\"sensors.title\")} ${\n      this.nameModel\n    } – Robonomics Network dApp`;\n  }\n};\n</script>\n","import mod from \"-!../../../../node_modules/cache-loader/dist/cjs.js??ref--13-0!../../../../node_modules/thread-loader/dist/cjs.js!../../../../node_modules/babel-loader/lib/index.js!../../../../node_modules/cache-loader/dist/cjs.js??ref--1-0!../../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./Page.vue?vue&type=script&lang=js&\"; export default mod; export * from \"-!../../../../node_modules/cache-loader/dist/cjs.js??ref--13-0!../../../../node_modules/thread-loader/dist/cjs.js!../../../../node_modules/babel-loader/lib/index.js!../../../../node_modules/cache-loader/dist/cjs.js??ref--1-0!../../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./Page.vue?vue&type=script&lang=js&\"","import { render, staticRenderFns } from \"./Page.vue?vue&type=template&id=24b531b6&\"\nimport script from \"./Page.vue?vue&type=script&lang=js&\"\nexport * from \"./Page.vue?vue&type=script&lang=js&\"\n\n\n/* normalize component */\nimport normalizer from \"!../../../../node_modules/vue-loader/lib/runtime/componentNormalizer.js\"\nvar component = normalizer(\n  script,\n  render,\n  staticRenderFns,\n  false,\n  null,\n  null,\n  null\n  \n)\n\nexport default component.exports","export * from \"-!../../../../node_modules/mini-css-extract-plugin/dist/loader.js??ref--7-oneOf-1-0!../../../../node_modules/css-loader/dist/cjs.js??ref--7-oneOf-1-1!../../../../node_modules/vue-loader/lib/loaders/stylePostLoader.js!../../../../node_modules/postcss-loader/src/index.js??ref--7-oneOf-1-2!../../../../node_modules/cache-loader/dist/cjs.js??ref--1-0!../../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./Modal.vue?vue&type=style&index=0&id=0b63204b&scoped=true&lang=css&\"","'use strict';\nvar $ = require('../internals/export');\nvar uncurryThis = require('../internals/function-uncurry-this');\nvar requireObjectCoercible = require('../internals/require-object-coercible');\nvar toIntegerOrInfinity = require('../internals/to-integer-or-infinity');\nvar toString = require('../internals/to-string');\nvar fails = require('../internals/fails');\n\nvar charAt = uncurryThis(''.charAt);\n\nvar FORCED = fails(function () {\n  return '𠮷'.at(0) !== '\\uD842';\n});\n\n// `String.prototype.at` method\n// https://github.com/tc39/proposal-relative-indexing-method\n$({ target: 'String', proto: true, forced: FORCED }, {\n  at: function at(index) {\n    var S = toString(requireObjectCoercible(this));\n    var len = S.length;\n    var relativeIndex = toIntegerOrInfinity(index);\n    var k = relativeIndex >= 0 ? relativeIndex : len + relativeIndex;\n    return (k < 0 || k >= len) ? undefined : charAt(S, k);\n  }\n});\n"],"sourceRoot":""}